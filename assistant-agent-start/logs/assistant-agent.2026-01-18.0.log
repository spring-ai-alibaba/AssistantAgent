2026-01-18T00:04:56.812+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 16332 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:04:56.812+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:04:56.812+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:04:58.145+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:04:58.172+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:04:58.183+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:04:58.190+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:04:59.322+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:04:59.335+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:04:59.340+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:04:59.425+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:04:59.425+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2552 ms
2026-01-18T00:04:59.493+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:04:59.511+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:04:59.516+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:04:59.517+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:04:59.562+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:04:59.563+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:04:59.564+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:04:59.838+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:04:59.838+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:05:00.308+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:05:00.379+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:05:00.393+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:05:00.396+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:05:00.399+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:05:00.401+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:05:00.402+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:05:00.405+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:05:00.405+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:05:00.416+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:05:00.418+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:05:00.420+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:05:00.420+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:05:00.420+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:05:00.420+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:05:00.420+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:05:00.421+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:05:00.424+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:05:00.426+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:05:00.426+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:05:00.505+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:05:00.505+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:05:00.508+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:05:00.511+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:05:00.514+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:05:00.518+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:05:00.527+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:05:00.530+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:05:00.530+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:05:00.532+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:05:00.533+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:05:00.538+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:05:00.538+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:05:00.543+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:05:00.543+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:05:00.543+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:05:00.543+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:05:00.543+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:05:00.543+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:05:00.543+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:05:00.543+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:05:00.549+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:05:00.549+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:05:00.549+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:05:00.559+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:05:00.559+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:05:00.564+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:05:00.564+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:05:00.564+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:05:00.564+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:05:00.569+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:05:00.569+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:05:00.569+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:05:00.569+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:05:00.574+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:05:00.574+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:05:00.574+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:05:00.575+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:05:00.575+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:05:00.577+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:05:00.579+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:05:00.615+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:05:00.615+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:05:00.615+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:05:00.621+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:05:00.621+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:05:00.621+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:05:00.621+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:05:00.626+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:05:00.626+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:05:00.626+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:05:00.632+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:05:00.632+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:05:00.632+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:05:00.634+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:05:00.636+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:05:00.728+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:05:00.927+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@52a2e2fb
2026-01-18T00:05:00.927+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:05:01.078+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:05:01.078+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:05:01.078+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#paramCollectionResponseHook - initialized, enabled=true
2026-01-18T00:05:01.082+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:05:01.083+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:05:01.083+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:05:01.094+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:05:01.094+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:05:01.099+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:05:01.100+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:05:01.100+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:05:01.100+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:05:01.100+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:05:01.100+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:05:01.100+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:05:01.102+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:05:01.114+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:05:01.117+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:05:01.118+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:05:01.119+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:05:01.120+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:05:01.124+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:05:01.124+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:05:01.124+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:05:01.124+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:05:01.124+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:05:01.124+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:05:01.124+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:05:01.135+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:05:01.140+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:05:01.143+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:05:01.143+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:05:01.143+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:05:01.143+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:05:01.145+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:05:01.145+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:05:01.150+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:05:01.151+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:05:01.151+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:05:01.151+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:05:01.151+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:05:01.151+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:05:01.152+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入ParamCollectionResponseHook
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:05:01.156+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=448206835
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:05:01.156+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:05:01.156+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:05:01.162+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:05:01.162+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:05:01.162+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:05:01.162+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:05:01.162+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:05:01.168+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:05:01.168+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:05:01.168+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:05:01.311+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:05:01.311+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:05:01.316+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:05:01.316+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:05:01.322+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:05:01.327+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:05:01.333+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:05:01.344+08:00  WARN --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'agentStaticLoader' defined in URL [jar:file:/C:/Users/zhou_/.m2/repository/com/alibaba/agent/assistant/assistant-agent-autoconfigure/0.1.1/assistant-agent-autoconfigure-0.1.1.jar!/com/alibaba/assistant/agent/autoconfigure/AgentStaticLoader.class]: Failed to instantiate [com.alibaba.assistant.agent.autoconfigure.AgentStaticLoader]: Constructor threw exception
2026-01-18T00:05:01.345+08:00  INFO --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Shutting down ExecutorService
2026-01-18T00:05:01.345+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#shutdown - reason=shutting down async learning handler
2026-01-18T00:05:01.349+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-18T00:05:01.392+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-18T00:05:01.395+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-18T00:05:01.408+08:00  INFO --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-18T00:05:01.433+08:00 ERROR --- [           main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'agentStaticLoader' defined in URL [jar:file:/C:/Users/zhou_/.m2/repository/com/alibaba/agent/assistant/assistant-agent-autoconfigure/0.1.1/assistant-agent-autoconfigure-0.1.1.jar!/com/alibaba/assistant/agent/autoconfigure/AgentStaticLoader.class]: Failed to instantiate [com.alibaba.assistant.agent.autoconfigure.AgentStaticLoader]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:321)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:309)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.alibaba.assistant.agent.start.AssistantAgentApplication.main(AssistantAgentApplication.java:62)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.alibaba.assistant.agent.autoconfigure.AgentStaticLoader]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318)
	... 21 common frames omitted
Caused by: java.lang.RuntimeException: com.alibaba.cloud.ai.graph.exception.GraphStateException: edge sourceId '_AGENT_HOOK_ParamCollectionResponseHook.beforeModel' refers to undefined node!
	at com.alibaba.cloud.ai.graph.agent.Agent.getAndCompileGraph(Agent.java:128)
	at com.alibaba.assistant.agent.autoconfigure.AgentStaticLoader.<init>(AgentStaticLoader.java:55)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:210)
	... 23 common frames omitted
Caused by: com.alibaba.cloud.ai.graph.exception.GraphStateException: edge sourceId '_AGENT_HOOK_ParamCollectionResponseHook.beforeModel' refers to undefined node!
	at com.alibaba.cloud.ai.graph.exception.Errors.exception(Errors.java:52)
	at com.alibaba.cloud.ai.graph.internal.edge.Edge.validate(Edge.java:109)
	at com.alibaba.cloud.ai.graph.internal.edge.Edge.validate(Edge.java:101)
	at com.alibaba.cloud.ai.graph.StateGraph.validateGraph(StateGraph.java:437)
	at com.alibaba.cloud.ai.graph.StateGraph.compile(StateGraph.java:450)
	at com.alibaba.cloud.ai.graph.agent.Agent.getAndCompileGraph(Agent.java:125)
	... 28 common frames omitted

2026-01-18T00:05:01.434+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : Shutting down ParallelNode default executor
2026-01-18T00:05:01.434+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default thread pool terminated
2026-01-18T00:05:01.434+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default executor shut down successfully
2026-01-18T00:06:56.126+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 21368 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:06:56.126+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:06:56.126+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:06:57.410+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:06:57.441+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:06:57.447+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:06:57.454+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:06:58.601+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:06:58.622+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:06:58.622+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:06:58.723+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:06:58.723+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2538 ms
2026-01-18T00:06:58.793+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:06:58.810+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:06:58.811+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:06:58.815+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:06:58.865+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:06:58.867+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:06:58.868+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:06:59.153+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:06:59.153+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:06:59.611+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:06:59.683+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:06:59.694+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:06:59.701+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:06:59.701+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:06:59.706+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:06:59.706+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:06:59.710+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:06:59.711+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:06:59.716+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:06:59.717+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:06:59.717+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:06:59.717+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:06:59.717+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:06:59.717+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:06:59.717+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:06:59.717+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:06:59.721+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:06:59.721+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:06:59.721+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:06:59.800+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:06:59.800+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:06:59.803+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:06:59.807+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:06:59.812+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:06:59.816+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:06:59.828+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:06:59.831+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:06:59.832+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:06:59.833+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:06:59.836+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:06:59.841+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:06:59.845+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:06:59.847+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:06:59.848+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:06:59.849+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:06:59.850+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:06:59.851+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:06:59.851+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:06:59.851+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:06:59.851+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:06:59.853+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:06:59.854+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:06:59.856+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:06:59.864+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:06:59.866+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:06:59.866+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:06:59.866+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:06:59.872+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:06:59.873+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:06:59.874+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:06:59.875+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:06:59.877+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:06:59.877+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:06:59.878+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:06:59.878+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:06:59.879+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:06:59.881+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:06:59.882+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:06:59.883+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:06:59.883+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:06:59.919+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:06:59.919+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:06:59.919+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:06:59.920+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:06:59.921+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:06:59.921+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:06:59.921+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:06:59.921+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:06:59.921+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:06:59.921+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:06:59.922+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:06:59.922+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:06:59.924+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:06:59.925+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:06:59.928+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:06:59.929+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:06:59.930+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:06:59.931+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:06:59.932+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:06:59.932+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:06:59.933+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:06:59.933+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:07:00.039+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:07:00.238+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b286640
2026-01-18T00:07:00.243+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:07:00.398+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:07:00.399+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:07:00.405+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:07:00.405+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:07:00.405+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:07:00.415+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:07:00.415+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:07:00.420+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:07:00.420+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:07:00.420+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:07:00.420+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:07:00.420+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:07:00.420+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:07:00.420+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:07:00.420+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:07:00.437+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:07:00.437+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:07:00.437+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:07:00.437+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:07:00.442+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:07:00.444+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:07:00.444+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:07:00.444+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:07:00.444+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:07:00.444+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:07:00.444+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:07:00.444+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:07:00.457+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:07:00.461+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:07:00.465+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:07:00.465+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:07:00.465+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:07:00.465+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:07:00.468+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:07:00.469+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:07:00.470+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:07:00.470+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:07:00.470+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:07:00.470+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:07:00.470+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:07:00.470+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:07:00.473+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:07:00.475+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:07:00.477+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:07:00.478+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1888859784
2026-01-18T00:07:00.479+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:07:00.480+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:07:00.480+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:07:00.482+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:07:00.484+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:07:00.484+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:07:00.484+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:07:00.484+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:07:00.489+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:07:00.489+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:07:00.489+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:07:00.620+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:07:00.625+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:07:00.625+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:07:00.625+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:07:00.638+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:07:00.638+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:07:00.638+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:07:00.638+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:07:00.644+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:07:00.658+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
@enduml

2026-01-18T00:07:00.658+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:07:00.665+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:07:00.665+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:07:00.674+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:07:00.676+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:07:00.676+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:07:00.677+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:07:00.678+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:07:00.678+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:07:00.679+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:07:00.682+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:07:00.682+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:07:00.682+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:07:00.682+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:07:00.682+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:07:00.682+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:07:00.682+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:07:00.682+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:07:00.688+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:07:00.688+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:07:00.688+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:07:00.688+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:07:00.688+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:07:00.688+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:07:00.688+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:07:00.693+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:07:00.693+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:07:00.921+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:07:00.921+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=172198129
2026-01-18T00:07:01.260+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:07:01.262+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:07:01.287+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-18T00:07:01.297+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Started AssistantAgentApplication in 5.939 seconds (process running for 6.464)
2026-01-18T00:07:01.302+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Initializing Demo Experiences
2026-01-18T00:07:01.302+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Demo Experiences initialization completed
2026-01-18T00:07:01.302+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Starting experience module validation
2026-01-18T00:07:01.379+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#count - reason=count completed, count=0
2026-01-18T00:07:01.401+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=CODE, scope=null, count=0
2026-01-18T00:07:01.415+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=REACT, scope=null, count=0
2026-01-18T00:07:01.421+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=COMMON, scope=null, count=0
2026-01-18T00:07:01.421+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testExperienceCount - reason=Experience stats: total=0, code=0, react=0, common=0
2026-01-18T00:07:01.421+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Testing common experience query
2026-01-18T00:07:01.560+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:07:01.560+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Found 0 common experiences
2026-01-18T00:07:01.560+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=❌ MoLiHong identity experience not found
2026-01-18T00:07:01.560+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Testing code experience query (demo keyword)
2026-01-18T00:07:01.566+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=CODE, text=null, count=0
2026-01-18T00:07:01.566+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Found 0 demo code experiences
2026-01-18T00:07:01.566+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=❌ Demo code experience not found
2026-01-18T00:07:01.566+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Testing react experience query
2026-01-18T00:07:01.576+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:07:01.576+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Found 0 react experiences
2026-01-18T00:07:01.576+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=❌ Ambiguous intent strategy not found
2026-01-18T00:07:01.576+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Experience module validation completed
2026-01-18T00:10:01.492+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 24968 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:10:01.494+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:10:01.494+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:10:02.795+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:10:02.829+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:10:02.836+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:10:02.841+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:10:03.941+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:10:03.967+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:10:03.967+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:10:04.067+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:10:04.068+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2525 ms
2026-01-18T00:10:04.130+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:10:04.148+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:10:04.150+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:10:04.151+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:10:04.195+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:10:04.201+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:10:04.201+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:10:04.501+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:10:04.502+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:10:04.971+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:10:05.044+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:10:05.058+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:10:05.063+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:10:05.063+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:10:05.068+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:10:05.068+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:10:05.073+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:10:05.076+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:10:05.083+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:10:05.084+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:10:05.085+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:10:05.086+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:10:05.086+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:10:05.086+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:10:05.086+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:10:05.086+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:10:05.088+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:10:05.090+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:10:05.091+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:10:05.162+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:10:05.162+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:10:05.165+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:10:05.170+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:10:05.174+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:10:05.180+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:10:05.191+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:10:05.191+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:10:05.191+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:10:05.196+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:10:05.196+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:10:05.201+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:10:05.209+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:10:05.211+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:10:05.213+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:10:05.214+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:10:05.217+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:10:05.217+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:10:05.217+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:10:05.217+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:10:05.217+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:10:05.217+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:10:05.217+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:10:05.225+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:10:05.235+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:10:05.240+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:10:05.244+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:10:05.245+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:10:05.246+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:10:05.247+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:10:05.248+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:10:05.250+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:10:05.252+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:10:05.252+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:10:05.253+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:10:05.253+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:10:05.254+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:10:05.258+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:10:05.258+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:10:05.258+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:10:05.258+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:10:05.295+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:10:05.295+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:10:05.295+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:10:05.296+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:10:05.296+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:10:05.297+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:10:05.297+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:10:05.297+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:10:05.297+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:10:05.297+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:10:05.298+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:10:05.298+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:10:05.300+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:10:05.302+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:10:05.305+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:10:05.307+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:10:05.307+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:10:05.308+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:10:05.308+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:10:05.308+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:10:05.308+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:10:05.313+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:10:05.412+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:10:05.629+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b286640
2026-01-18T00:10:05.631+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:10:05.780+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:10:05.780+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:10:05.785+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:10:05.785+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:10:05.785+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:10:05.796+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:10:05.801+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:10:05.801+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:10:05.801+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:10:05.801+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:10:05.801+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:10:05.801+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:10:05.801+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:10:05.801+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:10:05.806+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:10:05.819+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:10:05.819+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:10:05.820+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:10:05.821+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:10:05.823+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:10:05.824+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:10:05.824+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:10:05.824+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:10:05.824+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:10:05.824+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:10:05.824+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:10:05.824+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:10:05.835+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:10:05.839+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:10:05.842+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:10:05.842+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:10:05.842+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:10:05.842+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:10:05.847+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:10:05.852+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:10:05.856+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:10:05.857+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:10:05.857+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1888859784
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:10:05.863+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:10:05.863+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:10:05.868+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:10:05.868+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:10:05.868+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:10:05.873+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:10:05.873+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:10:06.014+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:10:06.015+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:10:06.018+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:10:06.018+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:10:06.027+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:10:06.029+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:10:06.029+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:10:06.029+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:10:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:10:06.031+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:10:06.032+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:10:06.040+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
@enduml

2026-01-18T00:10:06.040+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:10:06.050+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:10:06.050+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:10:06.058+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:10:06.058+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:10:06.063+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:10:06.065+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:10:06.067+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:10:06.068+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:10:06.068+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:10:06.068+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:10:06.073+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:10:06.074+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:10:06.074+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:10:06.074+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:10:06.074+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:10:06.074+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:10:06.074+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:10:06.079+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:10:06.079+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:10:06.082+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:10:06.082+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:10:06.082+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:10:06.082+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:10:06.082+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:10:06.084+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:10:06.084+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:10:06.318+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:10:06.318+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=172198129
2026-01-18T00:10:06.645+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:10:06.650+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:10:06.659+08:00  WARN --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2026-01-18T00:10:06.664+08:00  INFO --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Shutting down ExecutorService
2026-01-18T00:10:06.664+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#shutdown - reason=shutting down async learning handler
2026-01-18T00:10:06.670+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-18T00:10:06.678+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-18T00:10:06.694+08:00  INFO --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-18T00:10:06.713+08:00 ERROR --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2026-01-18T00:10:06.715+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : Shutting down ParallelNode default executor
2026-01-18T00:10:06.715+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default thread pool terminated
2026-01-18T00:10:06.715+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default executor shut down successfully
2026-01-18T00:11:01.224+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 26448 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:11:01.225+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:11:01.226+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:11:02.482+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:11:02.513+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:11:02.521+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:11:02.529+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:11:03.830+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:11:03.863+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:11:03.863+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:11:03.968+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:11:03.969+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2684 ms
2026-01-18T00:11:04.039+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:11:04.062+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:11:04.064+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:11:04.067+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:11:04.116+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:11:04.118+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:11:04.120+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:11:04.458+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:11:04.459+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:11:04.999+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:11:05.091+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:11:05.108+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:11:05.112+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:11:05.116+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:11:05.118+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:11:05.120+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:11:05.121+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:11:05.123+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:11:05.132+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:11:05.134+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:11:05.135+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:11:05.136+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:11:05.136+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:11:05.136+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:11:05.136+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:11:05.137+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:11:05.139+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:11:05.141+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:11:05.142+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:11:05.229+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:11:05.230+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:11:05.233+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:11:05.236+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:11:05.240+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:11:05.245+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:11:05.256+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:11:05.259+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:11:05.260+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:11:05.261+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:11:05.264+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:11:05.271+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:11:05.278+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:11:05.280+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:11:05.282+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:11:05.284+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:11:05.287+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:11:05.287+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:11:05.287+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:11:05.287+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:11:05.288+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:11:05.290+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:11:05.291+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:11:05.295+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:11:05.304+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:11:05.306+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:11:05.310+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:11:05.311+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:11:05.313+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:11:05.315+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:11:05.316+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:11:05.318+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:11:05.320+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:11:05.320+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:11:05.321+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:11:05.322+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:11:05.322+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:11:05.325+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:11:05.326+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:11:05.327+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:11:05.328+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:11:05.377+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:11:05.378+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:11:05.378+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:11:05.379+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:11:05.379+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:11:05.380+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:11:05.380+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:11:05.380+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:11:05.380+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:11:05.380+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:11:05.381+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:11:05.381+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:11:05.383+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:11:05.385+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:11:05.388+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:11:05.390+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:11:05.390+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:11:05.391+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:11:05.392+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:11:05.392+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:11:05.393+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:11:05.396+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:11:05.501+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:11:05.741+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@14980819
2026-01-18T00:11:05.744+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:11:05.927+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:11:05.927+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:11:05.933+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:11:05.935+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:11:05.935+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:11:05.946+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:11:05.951+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:11:05.952+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:11:05.953+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:11:05.953+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:11:05.953+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:11:05.953+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:11:05.953+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:11:05.953+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:11:05.955+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:11:05.975+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:11:05.976+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:11:05.977+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:11:05.979+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:11:05.980+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:11:05.982+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:11:05.982+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:11:05.983+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:11:05.983+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:11:05.983+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:11:05.983+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:11:05.983+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:11:05.997+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:11:06.002+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:11:06.008+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:11:06.008+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:11:06.008+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:11:06.008+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:11:06.013+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:11:06.015+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:11:06.017+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:11:06.017+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:11:06.017+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:11:06.017+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:11:06.017+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:11:06.017+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:11:06.021+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:11:06.023+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:11:06.025+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:11:06.027+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=774320733
2026-01-18T00:11:06.028+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:11:06.029+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:11:06.029+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:11:06.029+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:11:06.029+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:11:06.029+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:11:06.029+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:11:06.029+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:11:06.029+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:11:06.030+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:11:06.030+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:11:06.030+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:11:06.030+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:11:06.030+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:11:06.030+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:11:06.030+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:11:06.030+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:11:06.030+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:11:06.030+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:11:06.030+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:11:06.032+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:11:06.035+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:11:06.035+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:11:06.036+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:11:06.036+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:11:06.041+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:11:06.041+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:11:06.041+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:11:06.213+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:11:06.214+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:11:06.217+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:11:06.217+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:11:06.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:11:06.229+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:11:06.230+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:11:06.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:11:06.232+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:11:06.232+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:11:06.232+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:11:06.232+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:11:06.232+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:11:06.233+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:11:06.235+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:11:06.248+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
@enduml

2026-01-18T00:11:06.248+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:11:06.259+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:11:06.259+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:11:06.270+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:11:06.271+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:11:06.272+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:11:06.274+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:11:06.275+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:11:06.276+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:11:06.277+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:11:06.279+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:11:06.280+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:11:06.282+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:11:06.282+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:11:06.282+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:11:06.282+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:11:06.282+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:11:06.282+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:11:06.288+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:11:06.288+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:11:06.290+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:11:06.291+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:11:06.291+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:11:06.291+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:11:06.291+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:11:06.292+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:11:06.292+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:11:06.522+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:11:06.522+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=953797060
2026-01-18T00:11:07.018+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:11:07.021+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:11:07.050+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-18T00:11:07.063+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Started AssistantAgentApplication in 6.655 seconds (process running for 7.274)
2026-01-18T00:11:07.073+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Initializing Demo Experiences
2026-01-18T00:11:07.074+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Demo Experiences initialization completed
2026-01-18T00:11:07.074+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Starting experience module validation
2026-01-18T00:11:07.163+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#count - reason=count completed, count=0
2026-01-18T00:11:07.189+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=CODE, scope=null, count=0
2026-01-18T00:11:07.197+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=REACT, scope=null, count=0
2026-01-18T00:11:07.207+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=COMMON, scope=null, count=0
2026-01-18T00:11:07.207+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testExperienceCount - reason=Experience stats: total=0, code=0, react=0, common=0
2026-01-18T00:11:07.207+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Testing common experience query
2026-01-18T00:11:07.398+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:11:07.398+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Found 0 common experiences
2026-01-18T00:11:07.398+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=❌ MoLiHong identity experience not found
2026-01-18T00:11:07.398+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Testing code experience query (demo keyword)
2026-01-18T00:11:07.410+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=CODE, text=null, count=0
2026-01-18T00:11:07.411+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Found 0 demo code experiences
2026-01-18T00:11:07.411+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=❌ Demo code experience not found
2026-01-18T00:11:07.411+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Testing react experience query
2026-01-18T00:11:07.422+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:11:07.422+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Found 0 react experiences
2026-01-18T00:11:07.422+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=❌ Ambiguous intent strategy not found
2026-01-18T00:11:07.422+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Experience module validation completed
2026-01-18T00:18:34.052+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 14556 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:18:34.052+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:18:34.052+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:18:35.261+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:18:35.291+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:18:35.294+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:18:35.305+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:18:36.400+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:18:36.419+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:18:36.419+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:18:36.514+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:18:36.515+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2409 ms
2026-01-18T00:18:36.575+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:18:36.595+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:18:36.595+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:18:36.598+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:18:36.643+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:18:36.644+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:18:36.646+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:18:36.925+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:18:36.925+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:18:37.381+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:18:37.453+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:18:37.465+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:18:37.466+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:18:37.466+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:18:37.471+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:18:37.475+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:18:37.476+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:18:37.478+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:18:37.485+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:18:37.486+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:18:37.488+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:18:37.488+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:18:37.488+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:18:37.488+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:18:37.488+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:18:37.490+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:18:37.492+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:18:37.493+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:18:37.494+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:18:37.570+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:18:37.571+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:18:37.573+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:18:37.576+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:18:37.580+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:18:37.584+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:18:37.592+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:18:37.592+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:18:37.592+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:18:37.592+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:18:37.597+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:18:37.597+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:18:37.604+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:18:37.608+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:18:37.610+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:18:37.610+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:18:37.612+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:18:37.612+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:18:37.612+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:18:37.612+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:18:37.613+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:18:37.613+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:18:37.615+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:18:37.618+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:18:37.623+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:18:37.628+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:18:37.628+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:18:37.628+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:18:37.633+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:18:37.633+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:18:37.633+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:18:37.633+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:18:37.633+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:18:37.633+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:18:37.638+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:18:37.638+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:18:37.638+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:18:37.638+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:18:37.638+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:18:37.638+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:18:37.644+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:18:37.681+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:18:37.681+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:18:37.681+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:18:37.681+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:18:37.686+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:18:37.686+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:18:37.686+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:18:37.686+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:18:37.692+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:18:37.693+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:18:37.693+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:18:37.695+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:18:37.697+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, chatModelPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:18:37.789+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:18:37.993+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75b4db22
2026-01-18T00:18:37.998+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:18:38.142+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:18:38.142+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:18:38.147+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:18:38.147+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:18:38.147+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:18:38.158+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:18:38.160+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:18:38.160+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:18:38.160+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:18:38.160+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:18:38.160+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:18:38.160+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:18:38.160+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:18:38.160+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:18:38.166+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:18:38.180+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:18:38.180+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:18:38.180+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:18:38.185+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:18:38.196+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:18:38.200+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:18:38.206+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:18:38.206+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:18:38.206+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:18:38.206+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:18:38.209+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:18:38.209+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:18:38.213+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:18:38.213+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:18:38.213+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:18:38.213+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:18:38.213+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:18:38.213+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:18:38.218+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:18:38.223+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:18:38.225+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1968869542
2026-01-18T00:18:38.225+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:18:38.225+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:18:38.226+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:18:38.226+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:18:38.227+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:18:38.228+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:18:38.229+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:18:38.231+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:18:38.231+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:18:38.234+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:18:38.235+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:18:38.235+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:18:38.368+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:18:38.368+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:18:38.368+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:18:38.368+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:18:38.380+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:18:38.382+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:18:38.383+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:18:38.384+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:18:38.386+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:18:38.399+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
@enduml

2026-01-18T00:18:38.400+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:18:38.406+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:18:38.407+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:18:38.414+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:18:38.414+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:18:38.414+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:18:38.419+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:18:38.419+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:18:38.419+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:18:38.422+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:18:38.425+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:18:38.425+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:18:38.425+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:18:38.425+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:18:38.425+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:18:38.425+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:18:38.425+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:18:38.425+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:18:38.430+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:18:38.430+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:18:38.430+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:18:38.430+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:18:38.430+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:18:38.430+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:18:38.430+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:18:38.430+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:18:38.435+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:18:38.654+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:18:38.654+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1221330445
2026-01-18T00:18:39.002+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:18:39.004+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:18:39.014+08:00  WARN --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2026-01-18T00:18:39.019+08:00  INFO --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Shutting down ExecutorService
2026-01-18T00:18:39.020+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#shutdown - reason=shutting down async learning handler
2026-01-18T00:18:39.023+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-18T00:18:39.034+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-18T00:18:39.048+08:00  INFO --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-18T00:18:39.067+08:00 ERROR --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2026-01-18T00:18:39.068+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : Shutting down ParallelNode default executor
2026-01-18T00:18:39.069+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default thread pool terminated
2026-01-18T00:18:39.069+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default executor shut down successfully
2026-01-18T00:19:28.512+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 2720 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:19:28.514+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:19:28.515+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:19:30.319+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:19:30.371+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:19:30.380+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:19:30.394+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:19:31.792+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:19:31.818+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:19:31.818+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:19:31.921+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:19:31.921+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3354 ms
2026-01-18T00:19:31.995+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:19:32.016+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:19:32.018+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:19:32.021+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:19:32.076+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:19:32.076+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:19:32.081+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:19:32.418+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:19:32.419+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:19:32.940+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:19:33.017+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:19:33.028+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:19:33.031+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:19:33.033+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:19:33.033+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:19:33.033+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:19:33.038+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:19:33.038+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:19:33.043+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:19:33.048+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:19:33.048+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:19:33.048+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:19:33.048+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:19:33.048+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:19:33.048+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:19:33.048+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:19:33.048+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:19:33.053+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:19:33.053+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:19:33.144+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:19:33.144+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:19:33.149+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:19:33.149+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:19:33.157+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:19:33.162+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:19:33.170+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:19:33.172+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:19:33.173+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:19:33.174+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:19:33.176+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:19:33.180+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:19:33.184+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:19:33.186+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:19:33.188+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:19:33.189+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:19:33.190+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:19:33.191+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:19:33.191+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:19:33.191+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:19:33.191+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:19:33.193+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:19:33.194+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:19:33.196+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:19:33.206+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:19:33.208+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:19:33.212+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:19:33.212+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:19:33.213+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:19:33.213+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:19:33.215+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:19:33.216+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:19:33.216+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:19:33.216+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:19:33.216+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:19:33.216+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:19:33.216+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:19:33.221+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:19:33.221+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:19:33.221+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:19:33.221+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:19:33.269+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:19:33.269+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:19:33.269+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:19:33.270+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:19:33.270+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:19:33.271+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:19:33.271+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:19:33.271+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:19:33.271+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:19:33.271+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:19:33.272+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:19:33.273+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:19:33.275+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:19:33.276+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:19:33.280+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:19:33.283+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:19:33.283+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:19:33.285+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:19:33.285+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:19:33.285+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:19:33.287+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:19:33.289+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, chatModelPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:19:33.410+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:19:33.633+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@17344d7
2026-01-18T00:19:33.637+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:19:33.819+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:19:33.819+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:19:33.823+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:19:33.825+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:19:33.825+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:19:33.836+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:19:33.840+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:19:33.841+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:19:33.842+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:19:33.842+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:19:33.842+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:19:33.842+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:19:33.842+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:19:33.842+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:19:33.844+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:19:33.864+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:19:33.864+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:19:33.865+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:19:33.866+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:19:33.867+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:19:33.869+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:19:33.869+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:19:33.869+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:19:33.869+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:19:33.869+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:19:33.869+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:19:33.869+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:19:33.884+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:19:33.885+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:19:33.894+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:19:33.894+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:19:33.894+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:19:33.894+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:19:33.904+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:19:33.906+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:19:33.909+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:19:33.909+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:19:33.909+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:19:33.909+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:19:33.909+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:19:33.909+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:19:33.912+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:19:33.915+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:19:33.916+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:19:33.919+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:19:33.924+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1482861352
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:19:33.926+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:19:33.926+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:19:33.927+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:19:33.927+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:19:33.927+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:19:33.927+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:19:33.927+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:19:33.927+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:19:33.927+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:19:33.927+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:19:33.927+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:19:33.927+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:19:33.927+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:19:33.929+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:19:33.931+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:19:33.932+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:19:33.933+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:19:33.933+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:19:33.938+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:19:33.938+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:19:33.938+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:19:34.194+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:19:34.194+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:19:34.204+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:19:34.204+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:19:34.228+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:19:34.234+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:19:34.239+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:19:34.256+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
@enduml

2026-01-18T00:19:34.257+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:19:34.269+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:19:34.270+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:19:34.287+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:19:34.289+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:19:34.291+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:19:34.292+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:19:34.292+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:19:34.296+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:19:34.301+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:19:34.305+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:19:34.307+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:19:34.310+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:19:34.310+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:19:34.310+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:19:34.311+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:19:34.311+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:19:34.311+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:19:34.316+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:19:34.316+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:19:34.319+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:19:34.320+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:19:34.320+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:19:34.320+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:19:34.320+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:19:34.323+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:19:34.323+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:19:34.600+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:19:34.600+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1221330445
2026-01-18T00:19:34.937+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:19:34.939+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:19:34.963+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-18T00:19:34.968+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Started AssistantAgentApplication in 7.369 seconds (process running for 8.111)
2026-01-18T00:19:34.973+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Initializing Demo Experiences
2026-01-18T00:19:34.973+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Demo Experiences initialization completed
2026-01-18T00:19:34.973+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Starting experience module validation
2026-01-18T00:19:35.034+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#count - reason=count completed, count=0
2026-01-18T00:19:35.050+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=CODE, scope=null, count=0
2026-01-18T00:19:35.058+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=REACT, scope=null, count=0
2026-01-18T00:19:35.066+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=COMMON, scope=null, count=0
2026-01-18T00:19:35.066+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testExperienceCount - reason=Experience stats: total=0, code=0, react=0, common=0
2026-01-18T00:19:35.066+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Testing common experience query
2026-01-18T00:19:35.205+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:19:35.205+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Found 0 common experiences
2026-01-18T00:19:35.205+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=❌ MoLiHong identity experience not found
2026-01-18T00:19:35.205+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Testing code experience query (demo keyword)
2026-01-18T00:19:35.210+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=CODE, text=null, count=0
2026-01-18T00:19:35.210+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Found 0 demo code experiences
2026-01-18T00:19:35.216+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=❌ Demo code experience not found
2026-01-18T00:19:35.216+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Testing react experience query
2026-01-18T00:19:35.227+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:19:35.227+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Found 0 react experiences
2026-01-18T00:19:35.228+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=❌ Ambiguous intent strategy not found
2026-01-18T00:19:35.228+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Experience module validation completed
2026-01-18T00:20:39.699+08:00  INFO --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-18T00:20:39.699+08:00  INFO --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-18T00:20:39.699+08:00  INFO --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-01-18T00:20:49.893+08:00  INFO --- [nio-8080-exec-5] o.apache.tomcat.util.http.parser.Cookie  : A cookie header was received [Hm_lvt_b79d8f49e2d38b26503b92810b740f45=1767609436,1767669208,1767767035] that contained an invalid cookie. That cookie will be ignored.
 Note: further occurrences of this error will be logged at DEBUG level.
2026-01-18T00:20:56.523+08:00  INFO --- [nio-8080-exec-8] c.a.c.a.a.s.controller.ThreadController  : Request received for POST /apps/research_agent/users/user-001/threads (service generates ID) with state: {}
2026-01-18T00:20:56.525+08:00  INFO --- [nio-8080-exec-8] c.a.c.a.a.s.service.ThreadServiceImpl    : Created thread: f02b7552-c94d-41d2-8129-009b49def4cd for app=research_agent, user=user-001
2026-01-18T00:20:56.525+08:00  INFO --- [nio-8080-exec-8] c.a.c.a.a.s.controller.ThreadController  : Thread created successfully with generated id: f02b7552-c94d-41d2-8129-009b49def4cd
2026-01-18T00:20:56.561+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 加载 agent: research_agent
2026-01-18T00:20:56.561+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 成功加载 agent: research_agent
2026-01-18T00:20:56.567+08:00  INFO --- [nio-8080-exec-6] c.a.c.a.a.s.controller.ThreadController  : Request received for GET /apps/research_agent/users/user-001/threads/f02b7552-c94d-41d2-8129-009b49def4cd
2026-01-18T00:20:56.623+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=try react fast-intent match
2026-01-18T00:20:56.623+08:00 DEBUG --- [nio-8080-exec-2] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=fast-intent disabled
2026-01-18T00:20:56.633+08:00 DEBUG --- [nio-8080-exec-2] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=checking unified intent
2026-01-18T00:20:56.634+08:00 DEBUG --- [nio-8080-exec-2] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching actions, userInput=添加单位
2026-01-18T00:20:57.405+08:00 DEBUG --- [nio-8080-exec-2] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#hybridSearch - actionId=erp:product-unit:create, rawScore=3.4759183, maxScore=3.4759183, normalizedScore=0.95
2026-01-18T00:20:57.429+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching completed, userInput=添加单位, matchCount=1
2026-01-18T00:20:57.429+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=match found, actionId=erp:product-unit:create, confidence=0.95, matchType=KEYWORD_EXACT
2026-01-18T00:20:57.438+08:00 DEBUG --- [nio-8080-exec-2] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:20:57.438+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=high confidence, using LLM for param extraction, actionId=erp:product-unit:create, confidence=0.95
2026-01-18T00:20:57.438+08:00 DEBUG --- [nio-8080-exec-2] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleLlmParamExtraction - reason=calling LLM, actionId=erp:product-unit:create
2026-01-18T00:20:58.997+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleLlmParamExtraction - reason=LLM response received, actionId=erp:product-unit:create, response=```json
{
  "extractedParams": {},
  "missingParams": ["name"],
  "nextQuestion": "请提供计量单位的名称。"
}
```
2026-01-18T00:20:59.081+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleLlmParamExtraction - reason=has nextQuestion, returning to user, question=请提供计量单位的名称。
2026-01-18T00:20:59.081+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleNextQuestion - reason=returning nextQuestion, actionId=erp:product-unit:create, question=请提供计量单位的名称。
2026-01-18T00:20:59.098+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=agent execution completed, starting learning process
2026-01-18T00:20:59.102+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=executing learning asynchronously, taskId=60a6c975-ce1d-4def-a83d-e175e31bf699
2026-01-18T00:20:59.102+08:00  INFO --- [nio-8080-exec-2] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#executeAsync - reason=start async execute learning task, taskId=60a6c975-ce1d-4def-a83d-e175e31bf699, learningType=experience
2026-01-18T00:20:59.103+08:00  INFO --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=start execute learning task, taskId=60a6c975-ce1d-4def-a83d-e175e31bf699, learningType=experience
2026-01-18T00:20:59.103+08:00 DEBUG --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningStrategy    : DefaultLearningStrategy#selectExtractor - reason=extractor found, learningType=experience, extractorClass=ExperienceLearningExtractor
2026-01-18T00:20:59.779+08:00  INFO --- [earning-async-0] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#llmJudgeWorthLearning - reason=llm answered, answer=NO
2026-01-18T00:20:59.779+08:00  INFO --- [earning-async-0] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#shouldLearn - reason=llm judgment completed, worthLearning=false, result=false
2026-01-18T00:20:59.779+08:00  INFO --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=extractor decided not to learn, taskId=60a6c975-ce1d-4def-a83d-e175e31bf699, learningType=experience
2026-01-18T00:21:06.543+08:00  INFO --- [nio-8080-exec-7] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 加载 agent: research_agent
2026-01-18T00:21:06.543+08:00  INFO --- [nio-8080-exec-7] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 成功加载 agent: research_agent
2026-01-18T00:21:06.552+08:00  INFO --- [nio-8080-exec-7] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=try react fast-intent match
2026-01-18T00:21:06.552+08:00 DEBUG --- [nio-8080-exec-7] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=fast-intent disabled
2026-01-18T00:21:06.562+08:00 DEBUG --- [nio-8080-exec-7] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=checking unified intent
2026-01-18T00:21:06.562+08:00 DEBUG --- [nio-8080-exec-7] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=keyword filter: no match
2026-01-18T00:21:06.566+08:00  INFO --- [nio-8080-exec-7] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=开始模型输入评估, phase=REACT
2026-01-18T00:21:06.566+08:00 DEBUG --- [nio-8080-exec-7] .a.e.e.c.CodeactEvaluationContextFactory : CodeactEvaluationContextFactory#createInputRoutingContext - reason=开始构造输入路由评估上下文
2026-01-18T00:21:06.566+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Starting evaluation for suite: React Phase Evaluation Suite
2026-01-18T00:21:06.621+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: is_fuzzy
2026-01-18T00:21:06.621+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: enhanced_user_input
2026-01-18T00:21:06.621+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_match
2026-01-18T00:21:06.621+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: enhanced_user_input
2026-01-18T00:21:06.621+08:00 DEBUG --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: is_fuzzy
2026-01-18T00:21:06.621+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_match
2026-01-18T00:21:06.625+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching actions, userInput=个
2026-01-18T00:21:06.627+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion enhanced_user_input with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 改写用户输入，使其更加清晰、完整

Working Mechanism:
你是一个用户输入优化专家。请根据用户输入，改写并完善需求。改写要求：1. 补全隐含的约束条件2. 明确输入输出格式3. 保持原始意图不变4. 直接输出改写后的内容，不要添加任何解释

Output your response in the following format:

RESULT: (your evaluation result)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:06.627+08:00 DEBUG --- [pool-2-thread-2] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion is_fuzzy with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 判断用户输入是否模糊，是否需要向用户澄清

Working Mechanism:
你是一个用户意图清晰度判断专家。请判断用户输入是否明确。

【模糊】的特征：
- 没有具体指明要做什么操作
- 使用模糊词汇如'帮我看看'、'处理一下'
- 请求可能有多种理解方式
- 缺少必要的参数或信息

【清晰】的特征：
- 明确提到要查询、搜索、获取某个具体信息
- 提供了具体的查询关键词或目标
- 意图明确，执行路径清晰

请直接输出'模糊'或'清晰'，不要添加任何解释。

Output your response in the following format:

RESULT: (one of: 模糊, 清晰)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:06.946+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#hybridSearch - actionId=erp:product-unit:create, rawScore=2.068037, maxScore=2.068037, normalizedScore=0.95
2026-01-18T00:21:06.959+08:00  INFO --- [pool-2-thread-3] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching completed, userInput=个, matchCount=1
2026-01-18T00:21:06.960+08:00  INFO --- [pool-2-thread-3] c.a.a.a.p.i.ActionIntentEvaluator        : ActionIntentEvaluator#buildCandidatesResult - reason=candidates built for LLM verification, userInput=个, candidateCount=1
2026-01-18T00:21:06.961+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_match completed with result: {"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"个","candidateCount":1,"status":"CANDIDATES"}
2026-01-18T00:21:07.372+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion is_fuzzy completed with result: 模糊
2026-01-18T00:21:07.679+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion enhanced_user_input completed with result: 请提供具体的用户输入内容，以便进行优化改写。
2026-01-18T00:21:07.740+08:00  INFO --- [action-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: react_experience_retrieval
2026-01-18T00:21:07.740+08:00  INFO --- [action-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_llm_verify
2026-01-18T00:21:07.740+08:00 DEBUG --- [action-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: react_experience_retrieval
2026-01-18T00:21:07.740+08:00 DEBUG --- [action-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_llm_verify
2026-01-18T00:21:07.740+08:00 DEBUG --- [action-thread-2] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion action_intent_llm_verify with LLM, prompt: 你是一个意图识别和参数提取专家。请根据用户输入和候选动作列表：
1. 判断用户最可能想要执行的动作
2. 从用户输入中提取动作所需的参数
3. 检查是否有缺失的必填参数

## 用户输入
个

## 候选动作列表（包含参数定义）
{"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"个","candidateCount":1,"status":"CANDIDATES"}

## 处理要求
1. 仔细分析用户输入的语义和意图
2. 选择最匹配的动作，如果没有合适的动作则返回 NO_MATCH
3. 如果选中了动作，从用户输入中提取该动作需要的参数值
4. 检查必填参数（required=true）是否都已提取到，如果有缺失则生成追问问题

## 返回格式（严格 JSON）
如果匹配到动作：
RESULT: {
    "actionId": "选中的动作ID",
    "actionName": "动作名称",
    "confidence": 0.95,
    "reason": "判断理由",
    "extractedParams": {"参数名": "提取到的值", ...},
    "missingParams": ["缺失的必填参数名", ...],
    "nextQuestion": "如果有缺失参数，生成追问问题，否则为null"
}

如果未匹配到动作：
RESULT: {"actionId": "NO_MATCH", "confidence": 0.95, "reason": "判断理由"}

2026-01-18T00:21:07.751+08:00 DEBUG --- [action-thread-1] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:21:07.759+08:00 DEBUG --- [action-thread-1] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:21:07.759+08:00  INFO --- [action-thread-1] .e.e.ExperienceRetrievalEvaluatorFactory : ExperienceRetrievalEvaluatorFactory#react_experience_evaluator - reason=未检索到经验
2026-01-18T00:21:07.759+08:00  INFO --- [action-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion react_experience_retrieval completed with result: 
2026-01-18T00:21:11.989+08:00  WARN --- [action-thread-2] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Failed to parse JSON from response: ```json
{
    "actionId": "erp:product-unit:create",
    "actionName": "添加产品单位",
    "confidence": 0.95,
    "reason": "用户输入'个'可能是指想要创建一个名为'个'的产品计量单位。",
    "extractedParams": {"name": "个"},
    "missingParams": [],
    "nextQuestion": null
}
```
2026-01-18T00:21:11.989+08:00  INFO --- [action-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_llm_verify completed with result: ```json
{
    "actionId": "erp:product-unit:create",
    "actionName": "添加产品单位",
    "confidence": 0.95,
    "reason": "用户输入'个'可能是指想要创建一个名为'个'的产品计量单位。",
    "extractedParams": {"name": "个"},
    "missingParams": [],
    "nextQuestion": null
}
```
2026-01-18T00:21:12.035+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'enhanced_user_input': status=SUCCESS, value=请提供具体的用户输入内容，以便进行优化改写。
2026-01-18T00:21:12.035+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'is_fuzzy': status=SUCCESS, value=模糊
2026-01-18T00:21:12.035+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'react_experience_retrieval': status=SUCCESS, value=
2026-01-18T00:21:12.035+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_match': status=SUCCESS, value={"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"个","candidateCount":1,"status":"CANDIDATES"}
2026-01-18T00:21:12.036+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_llm_verify': status=SUCCESS, value=```json
{
    "actionId": "erp:product-unit:create",
    "actionName": "添加产品单位",
    "confidence": 0.95,
    "reason": "用户输入'个'可能是指想要创建一个名为'个'的产品计量单位。",
    "extractedParams": {"name": "个"},
    "missingParams": [],
    "nextQuestion": null
}
```
2026-01-18T00:21:12.036+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected 5 criterion results from final state
2026-01-18T00:21:12.037+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Evaluation completed for suite: React Phase Evaluation Suite
2026-01-18T00:21:12.037+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=评估完成, phase=REACT
2026-01-18T00:21:12.037+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachInputRoutingResult - reason=写入输入路由评估结果
2026-01-18T00:21:12.037+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=开始处理评估结果注入
2026-01-18T00:21:12.037+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=已解析历史评估结果, 历史条目数=0
2026-01-18T00:21:12.037+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_match, metadata=[topActionId, topConfidence, needsLLMVerification, candidateCount]
2026-01-18T00:21:12.037+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=添加无ref-id的criterion, criterion=action_intent_match
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=react_experience_retrieval, metadata=[is_empty]
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过空结果的criterion, criterion=react_experience_retrieval
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=enhanced_user_input, metadata=[]
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=添加无ref-id的criterion, criterion=enhanced_user_input
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=is_fuzzy, metadata=[]
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=添加无ref-id的criterion, criterion=is_fuzzy
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_llm_verify, metadata=[]
2026-01-18T00:21:12.038+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=添加无ref-id的criterion, criterion=action_intent_llm_verify
2026-01-18T00:21:12.038+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=筛选出新评估条目, 新条目数=4
2026-01-18T00:21:12.039+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=已创建增量评估消息对, 新消息数=2
2026-01-18T00:21:12.039+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachResult - reason=评估结果已写入, path=evaluation.inputRouting, suiteId=react-phase-suite
2026-01-18T00:21:12.056+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=开始处理评估结果prompt注入, phase=REACT
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#findLatestEvaluationResult - reason=找到评估结果, index=4
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=找到评估结果XML, phase=REACT, xmlLength=1043
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=enhanced_user_input, valueLength=22
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_match, valueLength=425
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=is_fuzzy, valueLength=2
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_llm_verify, valueLength=246
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=解析评估结果, phase=REACT, results={action_intent_match={"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"个","candidateCount":1,"status":"CANDIDATES"}, enhanced_user_input=请提供具体的用户输入内容，以便进行优化改写。, is_fuzzy=模糊, action_intent_llm_verify=```json
{
    "actionId": "erp:product-unit:create",
    "actionName": "添加产品单位",
    "confidence": 0.95,
    "reason": "用户输入'个'可能是指想要创建一个名为'个'的产品计量单位。",
    "extractedParams": {"name": "个"},
    "missingParams": [],
    "nextQuestion": null
}
```}
2026-01-18T00:21:12.056+08:00  INFO --- [pool-3-thread-1] a.a.s.c.ReactPhasePromptGuidanceProvider : ReactPhasePromptGuidanceProvider#generateGuidance - reason=生成React阶段指导, is_fuzzy=模糊
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#generatePromptGuidance - reason=Provider生成了指导, provider=ReactPhasePromptGuidanceProvider, guidanceLength=189
2026-01-18T00:21:12.056+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#injectPromptGuidanceToMessages - reason=已创建prompt指导消息对
2026-01-18T00:21:12.058+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=已注入评估结果prompt指导, phase=REACT, guidanceLength=189
2026-01-18T00:21:12.083+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 拦截器被调用
2026-01-18T00:21:12.085+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 追加拦截器提示词到原有系统提示词
2026-01-18T00:21:12.085+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 系统提示词已增强，继续调用链
2026-01-18T00:21:14.556+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=agent execution completed, starting learning process
2026-01-18T00:21:14.556+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=executing learning asynchronously, taskId=eff00fa3-0fc5-4211-937e-f183917233ba
2026-01-18T00:21:14.556+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#executeAsync - reason=start async execute learning task, taskId=eff00fa3-0fc5-4211-937e-f183917233ba, learningType=experience
2026-01-18T00:21:14.556+08:00  INFO --- [earning-async-1] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=start execute learning task, taskId=eff00fa3-0fc5-4211-937e-f183917233ba, learningType=experience
2026-01-18T00:21:14.556+08:00 DEBUG --- [earning-async-1] c.a.a.a.e.l.i.DefaultLearningStrategy    : DefaultLearningStrategy#selectExtractor - reason=extractor found, learningType=experience, extractorClass=ExperienceLearningExtractor
2026-01-18T00:21:14.904+08:00  INFO --- [earning-async-1] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#llmJudgeWorthLearning - reason=llm answered, answer=NO
2026-01-18T00:21:14.905+08:00  INFO --- [earning-async-1] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#shouldLearn - reason=llm judgment completed, worthLearning=false, result=false
2026-01-18T00:21:14.905+08:00  INFO --- [earning-async-1] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=extractor decided not to learn, taskId=eff00fa3-0fc5-4211-937e-f183917233ba, learningType=experience
2026-01-18T00:21:26.830+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 加载 agent: research_agent
2026-01-18T00:21:26.831+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 成功加载 agent: research_agent
2026-01-18T00:21:26.847+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=try react fast-intent match
2026-01-18T00:21:26.847+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=fast-intent disabled
2026-01-18T00:21:26.857+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=checking unified intent
2026-01-18T00:21:26.857+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=keyword filter: no match
2026-01-18T00:21:26.869+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=开始模型输入评估, phase=REACT
2026-01-18T00:21:26.869+08:00 DEBUG --- [nio-8080-exec-4] .a.e.e.c.CodeactEvaluationContextFactory : CodeactEvaluationContextFactory#createInputRoutingContext - reason=开始构造输入路由评估上下文
2026-01-18T00:21:26.869+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Starting evaluation for suite: React Phase Evaluation Suite
2026-01-18T00:21:26.891+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: enhanced_user_input
2026-01-18T00:21:26.891+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: enhanced_user_input
2026-01-18T00:21:26.891+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: is_fuzzy
2026-01-18T00:21:26.891+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_match
2026-01-18T00:21:26.891+08:00 DEBUG --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: is_fuzzy
2026-01-18T00:21:26.891+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion enhanced_user_input with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 改写用户输入，使其更加清晰、完整

Working Mechanism:
你是一个用户输入优化专家。请根据用户输入，改写并完善需求。改写要求：1. 补全隐含的约束条件2. 明确输入输出格式3. 保持原始意图不变4. 直接输出改写后的内容，不要添加任何解释

Output your response in the following format:

RESULT: (your evaluation result)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:26.891+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_match
2026-01-18T00:21:26.891+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching actions, userInput=确认
2026-01-18T00:21:26.891+08:00 DEBUG --- [pool-2-thread-2] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion is_fuzzy with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 判断用户输入是否模糊，是否需要向用户澄清

Working Mechanism:
你是一个用户意图清晰度判断专家。请判断用户输入是否明确。

【模糊】的特征：
- 没有具体指明要做什么操作
- 使用模糊词汇如'帮我看看'、'处理一下'
- 请求可能有多种理解方式
- 缺少必要的参数或信息

【清晰】的特征：
- 明确提到要查询、搜索、获取某个具体信息
- 提供了具体的查询关键词或目标
- 意图明确，执行路径清晰

请直接输出'模糊'或'清晰'，不要添加任何解释。

Output your response in the following format:

RESULT: (one of: 模糊, 清晰)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:28.110+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion is_fuzzy completed with result: 模糊
2026-01-18T00:21:28.171+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#hybridSearch - actionId=erp:product-unit:create, rawScore=1.4314821, maxScore=1.4314821, normalizedScore=0.95
2026-01-18T00:21:28.182+08:00  INFO --- [pool-2-thread-3] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching completed, userInput=确认, matchCount=1
2026-01-18T00:21:28.183+08:00  INFO --- [pool-2-thread-3] c.a.a.a.p.i.ActionIntentEvaluator        : ActionIntentEvaluator#buildCandidatesResult - reason=candidates built for LLM verification, userInput=确认, candidateCount=1
2026-01-18T00:21:28.183+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_match completed with result: {"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"确认","candidateCount":1,"status":"CANDIDATES"}
2026-01-18T00:21:29.395+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion enhanced_user_input completed with result: 请提供具体的用户输入内容以便进行改写和优化。
2026-01-18T00:21:29.416+08:00  INFO --- [action-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: react_experience_retrieval
2026-01-18T00:21:29.416+08:00 DEBUG --- [action-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: react_experience_retrieval
2026-01-18T00:21:29.416+08:00  INFO --- [action-thread-4] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_llm_verify
2026-01-18T00:21:29.416+08:00 DEBUG --- [action-thread-4] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_llm_verify
2026-01-18T00:21:29.416+08:00 DEBUG --- [action-thread-4] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion action_intent_llm_verify with LLM, prompt: 你是一个意图识别和参数提取专家。请根据用户输入和候选动作列表：
1. 判断用户最可能想要执行的动作
2. 从用户输入中提取动作所需的参数
3. 检查是否有缺失的必填参数

## 用户输入
确认

## 候选动作列表（包含参数定义）
{"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"确认","candidateCount":1,"status":"CANDIDATES"}

## 处理要求
1. 仔细分析用户输入的语义和意图
2. 选择最匹配的动作，如果没有合适的动作则返回 NO_MATCH
3. 如果选中了动作，从用户输入中提取该动作需要的参数值
4. 检查必填参数（required=true）是否都已提取到，如果有缺失则生成追问问题

## 返回格式（严格 JSON）
如果匹配到动作：
RESULT: {
    "actionId": "选中的动作ID",
    "actionName": "动作名称",
    "confidence": 0.95,
    "reason": "判断理由",
    "extractedParams": {"参数名": "提取到的值", ...},
    "missingParams": ["缺失的必填参数名", ...],
    "nextQuestion": "如果有缺失参数，生成追问问题，否则为null"
}

如果未匹配到动作：
RESULT: {"actionId": "NO_MATCH", "confidence": 0.95, "reason": "判断理由"}

2026-01-18T00:21:29.429+08:00 DEBUG --- [action-thread-3] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:21:29.444+08:00 DEBUG --- [action-thread-3] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:21:29.444+08:00  INFO --- [action-thread-3] .e.e.ExperienceRetrievalEvaluatorFactory : ExperienceRetrievalEvaluatorFactory#react_experience_evaluator - reason=未检索到经验
2026-01-18T00:21:29.444+08:00  INFO --- [action-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion react_experience_retrieval completed with result: 
2026-01-18T00:21:30.764+08:00  WARN --- [action-thread-4] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Failed to parse JSON from response: ```json
{
    "actionId": "NO_MATCH",
    "confidence": 0.95,
    "reason": "用户输入仅为'确认'，没有提供足够的信息来确定具体想要执行哪个动作或相关参数。"
}
```
2026-01-18T00:21:30.765+08:00  INFO --- [action-thread-4] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_llm_verify completed with result: ```json
{
    "actionId": "NO_MATCH",
    "confidence": 0.95,
    "reason": "用户输入仅为'确认'，没有提供足够的信息来确定具体想要执行哪个动作或相关参数。"
}
```
2026-01-18T00:21:30.794+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'enhanced_user_input': status=SUCCESS, value=请提供具体的用户输入内容以便进行改写和优化。
2026-01-18T00:21:30.794+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'is_fuzzy': status=SUCCESS, value=模糊
2026-01-18T00:21:30.794+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'react_experience_retrieval': status=SUCCESS, value=
2026-01-18T00:21:30.794+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_match': status=SUCCESS, value={"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"确认","candidateCount":1,"status":"CANDIDATES"}
2026-01-18T00:21:30.794+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_llm_verify': status=SUCCESS, value=```json
{
    "actionId": "NO_MATCH",
    "confidence": 0.95,
    "reason": "用户输入仅为'确认'，没有提供足够的信息来确定具体想要执行哪个动作或相关参数。"
}
```
2026-01-18T00:21:30.794+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected 5 criterion results from final state
2026-01-18T00:21:30.794+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Evaluation completed for suite: React Phase Evaluation Suite
2026-01-18T00:21:30.794+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=评估完成, phase=REACT
2026-01-18T00:21:30.794+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachInputRoutingResult - reason=写入输入路由评估结果
2026-01-18T00:21:30.794+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=开始处理评估结果注入
2026-01-18T00:21:30.799+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=已解析历史评估结果, 历史条目数=4
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_match, metadata=[topActionId, topConfidence, needsLLMVerification, candidateCount]
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=action_intent_match
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=react_experience_retrieval, metadata=[is_empty]
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过空结果的criterion, criterion=react_experience_retrieval
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=enhanced_user_input, metadata=[]
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=enhanced_user_input
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=is_fuzzy, metadata=[]
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=is_fuzzy
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_llm_verify, metadata=[]
2026-01-18T00:21:30.799+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=action_intent_llm_verify
2026-01-18T00:21:30.799+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=没有新的评估内容需要注入
2026-01-18T00:21:30.799+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachResult - reason=评估结果已写入, path=evaluation.inputRouting, suiteId=react-phase-suite
2026-01-18T00:21:30.804+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=开始处理评估结果prompt注入, phase=REACT
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#findLatestEvaluationResult - reason=找到评估结果, index=4
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=找到评估结果XML, phase=REACT, xmlLength=1043
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=enhanced_user_input, valueLength=22
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_match, valueLength=425
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=is_fuzzy, valueLength=2
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_llm_verify, valueLength=246
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=解析评估结果, phase=REACT, results={action_intent_match={"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"个","candidateCount":1,"status":"CANDIDATES"}, enhanced_user_input=请提供具体的用户输入内容，以便进行优化改写。, is_fuzzy=模糊, action_intent_llm_verify=```json
{
    "actionId": "erp:product-unit:create",
    "actionName": "添加产品单位",
    "confidence": 0.95,
    "reason": "用户输入'个'可能是指想要创建一个名为'个'的产品计量单位。",
    "extractedParams": {"name": "个"},
    "missingParams": [],
    "nextQuestion": null
}
```}
2026-01-18T00:21:30.804+08:00  INFO --- [pool-3-thread-1] a.a.s.c.ReactPhasePromptGuidanceProvider : ReactPhasePromptGuidanceProvider#generateGuidance - reason=生成React阶段指导, is_fuzzy=模糊
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#generatePromptGuidance - reason=Provider生成了指导, provider=ReactPhasePromptGuidanceProvider, guidanceLength=189
2026-01-18T00:21:30.804+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#injectPromptGuidanceToMessages - reason=已创建prompt指导消息对
2026-01-18T00:21:30.804+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=已注入评估结果prompt指导, phase=REACT, guidanceLength=189
2026-01-18T00:21:30.818+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 拦截器被调用
2026-01-18T00:21:30.818+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 追加拦截器提示词到原有系统提示词
2026-01-18T00:21:30.818+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 系统提示词已增强，继续调用链
2026-01-18T00:21:34.727+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.tools.WriteCodeTool            : WriteCodeTool#apply 调用代码生成子Agent: functionName=create_product_unit
2026-01-18T00:21:34.728+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.tools.WriteCodeTool            : WriteCodeTool#apply 构建结构化输入: requirement=创建一个新的产品计量单位, function_name=create_product_unit, parameters=[unit_name], historyCodeCount=0
2026-01-18T00:21:34.728+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.subagent.BaseAgentTaskTool     : BaseAgentTaskTool#apply 调用子Agent: subagentType=code-generator
2026-01-18T00:21:34.728+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.subagent.BaseAgentTaskTool     : BaseAgentTaskTool#apply 使用结构化输入: [function_name, requirement, parameters, history_code]
2026-01-18T00:21:34.728+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.subagent.CodeactSubAgent       : CodeGeneratorSubAgent#initGraph 图结构初始化完成
2026-01-18T00:21:34.730+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#apply 开始生成代码
2026-01-18T00:21:34.730+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#apply 提取输入: functionName=create_product_unit, requirement=创建一个新的产品计量单位, parameters=[unit_name], historyCodeCount=0
2026-01-18T00:21:34.731+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=unified_search, allToolsWithSchema=[]
2026-01-18T00:21:34.731+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=unified_search, found=false, allTools=[]
2026-01-18T00:21:34.731+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=unified_search
2026-01-18T00:21:34.731+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=unified_search, hasDeclared=false
2026-01-18T00:21:34.731+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=unified_search, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=search_web, allToolsWithSchema=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=search_web, found=false, allTools=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=search_web
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=search_web, hasDeclared=false
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=search_web, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=search_knowledge, allToolsWithSchema=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=search_knowledge, found=false, allTools=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=search_knowledge
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=search_knowledge, hasDeclared=false
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=search_knowledge, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=search_project, allToolsWithSchema=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=search_project, found=false, allTools=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=search_project
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=search_project, hasDeclared=false
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=search_project, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=send_success_message, allToolsWithSchema=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=send_success_message, found=false, allTools=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=send_success_message
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=send_success_message, hasDeclared=false
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=send_success_message, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=send_error_message, allToolsWithSchema=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=send_error_message, found=false, allTools=[]
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=send_error_message
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=send_error_message, hasDeclared=false
2026-01-18T00:21:34.733+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=send_error_message, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.733+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=send_notification, allToolsWithSchema=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=send_notification, found=false, allTools=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=send_notification
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=send_notification, hasDeclared=false
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=send_notification, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=subscribe_trigger, allToolsWithSchema=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=subscribe_trigger, found=false, allTools=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=subscribe_trigger
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=subscribe_trigger, hasDeclared=false
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=subscribe_trigger, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=unsubscribe_trigger, allToolsWithSchema=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=unsubscribe_trigger, found=false, allTools=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=unsubscribe_trigger
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=unsubscribe_trigger, hasDeclared=false
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=unsubscribe_trigger, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=list_triggers, allToolsWithSchema=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=list_triggers, found=false, allTools=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=list_triggers
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=list_triggers, hasDeclared=false
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=list_triggers, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=开始查询schema, registryHashCode=1482861352, toolName=get_trigger_detail, allToolsWithSchema=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#getSchema - reason=查询schema, hashCode=1482861352, toolName=get_trigger_detail, found=false, allTools=[]
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=registry中未找到schema, toolName=get_trigger_detail
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#getReturnSchema - reason=使用声明的schema, toolName=get_trigger_detail, hasDeclared=false
2026-01-18T00:21:34.735+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#appendMethodDefinition - reason=生成方法定义, methodName=get_trigger_detail, hasReturnSchema=false, hasSuccessShape=false
2026-01-18T00:21:34.735+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#apply 构建消息: systemPrompt=你是一个专业的 Python 代码生成助手。你的任务是在已有的 Python 文件中补充新的函数。

```python
# -*- coding: utf-8 -*-
"""
CodeAct 工具集成模块

【代码生成规则】
1. 只生成函数定义，不要重复 import 和 class
2. 函数名和参数必须与要求完全一致
3. 调用工具使用 实例名.方法名() 格式
4. 只返回纯代码，不要 ```python 标记
5. 【重要】每个函数必须有 return 语句返回结果
   - 查询/搜索类：return 搜索结果
   - 处理/计算类：return 处理结果
   - 通知/回复类：先执行操作，再 return 操作结果或状态
"""

# === Import ===
from typing import Any, List, Dict, Optional
import json
import re

# === 工具类定义 ===

class SearchTools:
    """搜索相关工具集合"""

    def unified_search(self, query: str, sources: Literal["project", "knowledge", "web", "experience", "custom", "MockBaiduWebSearchProvider", "MockKnowledgeStoreSearchProvider", "MockProjectContextSearchProvider"] = None, limit: int = 10) -> Any:
        """统一搜索工具，可同时搜索项目、知识库、Web等多个数据源

        Args:
            query (str): 搜索查询关键词
            sources (Literal["project", "knowledge", "web", "experience", "custom", "MockBaiduWebSearchProvider", "MockKnowledgeStoreSearchProvider", "MockProjectContextSearchProvider"], optional): 要搜索的数据源列表，支持标准类型(project, knowledge, web等)或指定Provider名称
            limit (int, optional): 返回结果数量限制 默认值: 10

        Returns:
            Any: 操作结果
        """
        ...

    def search_web(self, query: str, limit: int = 10) -> Any:
        """执行Web搜索，获取公开互联网信息

        Args:
            query (str): 搜索查询关键词
            limit (int, optional): 返回结果数量限制 默认值: 10

        Returns:
            Any: 操作结果
        """
        ...

    def search_knowledge(self, query: str, limit: int = 10) -> Any:
        """搜索团队知识库，包括FAQ、规范、最佳实践等

        Args:
            query (str): 搜索查询关键词
            limit (int, optional): 返回结果数量限制 默认值: 10

        Returns:
            Any: 操作结果
        """
        ...

    def search_project(self, query: str, limit: int = 10) -> Any:
        """搜索项目上下文信息，包括代码、配置、文档等

        Args:
            query (str): 搜索查询关键词
            limit (int, optional): 返回结果数量限制 默认值: 10

        Returns:
            Any: 操作结果
        """
        ...


class ReplyTools:
    """用户回复相关工具集合"""

    def send_success_message(self, message: str) -> Any:
        """Send a success message to the IDE console

        Args:
            message (str): 要发送的消息内容

        Returns:
            Any: 操作结果
        """
        ...

    def send_error_message(self, message: str) -> Any:
        """Send an error message to the IDE console

        Args:
            message (str): 要发送的消息内容

        Returns:
            Any: 操作结果
        """
        ...

    def send_notification(self, message: str) -> Any:
        """Send a notification message

        Args:
            message (str): 要发送的消息内容

        Returns:
            Any: 操作结果
        """
        ...


class TriggerTools:
    """触发器管理工具集合"""

    def subscribe_trigger(self, name: str, schedule_mode: Literal["CRON", "FIXED_DELAY", "FIXED_RATE", "ONE_TIME", "TRIGGER"], schedule_value: str, description: str = None, condition_function: str = None, execute_function: str = None) -> Any:
        """创建并订阅一个新的触发器

        Args:
            name (str): 触发器名称
            description (str, optional): 触发器描述
            schedule_mode (Literal["CRON", "FIXED_DELAY", "FIXED_RATE", "ONE_TIME", "TRIGGER"]): 调度模式: CRON, FIXED_DELAY, FIXED_RATE, ONE_TIME, TRIGGER
            schedule_value (str): 调度值：CRON模式为cron表达式；FIXED_DELAY/FIXED_RATE模式为毫秒数(如3分钟=180000)；ONE_TIME模式为ISO时间戳
            condition_function (str, optional): 条件判断函数代码
            execute_function (str, optional): 执行函数代码

        Returns:
            Any: 操作结果
        """
        ...

    def unsubscribe_trigger(self, trigger_id: str) -> Any:
        """取消订阅并删除一个触发器

        Args:
            trigger_id (str): 要删除的触发器 ID

        Returns:
            Any: 操作结果
        """
        ...

    def list_triggers(self) -> Any:
        """列出所有触发器

        Returns:
            Any: 操作结果
        """
        ...

    def get_trigger_detail(self, trigger_id: str) -> Any:
        """获取指定触发器的详细信息

        Args:
            trigger_id (str): 触发器 ID

        Returns:
            Any: 操作结果
        """
        ...


# === 工具实例（可直接使用）===
search_tools = SearchTools()
reply_tools = ReplyTools()
trigger_tools = TriggerTools()

# === 历史代码 ===
# （暂无历史函数）

# === 待生成函数 ===
# 在此处补充新函数（见下方要求）

```
, userMessage=请在上面的 Python 文件中补充以下函数：

```python
def create_product_unit(unit_name):
    """
    创建一个新的产品计量单位
    """
    # TODO: 在此实现函数逻辑
    ...
```

请根据需求描述，实现上述函数的完整代码。
直接输出函数代码，不要包含 ```python 标记。
2026-01-18T00:21:40.009+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.s.node.CodeGeneratorNode       : CodeGeneratorNode#apply 代码生成成功: functionName=create_product_unit, codeLength=635
2026-01-18T00:21:40.011+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.subagent.BaseAgentTaskTool     : BaseAgentTaskTool#apply 子Agent调用成功: subagentType=code-generator
2026-01-18T00:21:40.011+08:00  INFO --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#extractFunctionName 开始提取函数名
2026-01-18T00:21:40.011+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#extractFunctionName 代码内容:
def create_product_unit(unit_name):
    """
    创建一个新的产品计量单位

    Args:
        unit_name (str): 新产品的计量单位名称

    Returns:
        Any: 操作结果
    """
    # 假设这里有一个创建计量单位的工具或API
    # 例如，可以使用一个假想的ProductUnitManager类来创建新的计量单位
    # 这里只是一个示例，实际实现可能需要根据具体情况进行调整

    class ProductUnitManager:
        def create_unit(self, name):
            # 实际应用中，这里可能会调用数据库或其他服务来创建新的计量单位
            # 这里只是简单地返回一个成功消息
            return f"成功创建计量单位: {name}"

    # 创建ProductUnitManager实例
    product_unit_manager = ProductUnitManager()

    # 调用create_unit方法创建新的计量单位
    result = product_unit_manager.create_unit(unit_name)

    # 返回操作结果
    return result
2026-01-18T00:21:40.011+08:00  INFO --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#extractFunctionName 提取到函数名: create_product_unit
2026-01-18T00:21:40.011+08:00  WARN --- [oundedElastic-1] c.a.a.a.a.tools.WriteCodeTool            : WriteCodeTool#saveToStore Store未初始化
2026-01-18T00:21:40.012+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.tools.WriteCodeTool            : WriteCodeTool#apply 代码生成成功: functionName=create_product_unit
2026-01-18T00:21:40.019+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=开始模型输入评估, phase=REACT
2026-01-18T00:21:40.024+08:00 DEBUG --- [oundedElastic-1] .a.e.e.c.CodeactEvaluationContextFactory : CodeactEvaluationContextFactory#createInputRoutingContext - reason=开始构造输入路由评估上下文
2026-01-18T00:21:40.024+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Starting evaluation for suite: React Phase Evaluation Suite
2026-01-18T00:21:40.044+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: enhanced_user_input
2026-01-18T00:21:40.044+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: is_fuzzy
2026-01-18T00:21:40.044+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: enhanced_user_input
2026-01-18T00:21:40.044+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: is_fuzzy
2026-01-18T00:21:40.044+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_match
2026-01-18T00:21:40.044+08:00 DEBUG --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_match
2026-01-18T00:21:40.044+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_match completed with result: NO_MATCH
2026-01-18T00:21:40.044+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion enhanced_user_input with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 改写用户输入，使其更加清晰、完整

Working Mechanism:
你是一个用户输入优化专家。请根据用户输入，改写并完善需求。改写要求：1. 补全隐含的约束条件2. 明确输入输出格式3. 保持原始意图不变4. 直接输出改写后的内容，不要添加任何解释

Output your response in the following format:

RESULT: (your evaluation result)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:40.044+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion is_fuzzy with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 判断用户输入是否模糊，是否需要向用户澄清

Working Mechanism:
你是一个用户意图清晰度判断专家。请判断用户输入是否明确。

【模糊】的特征：
- 没有具体指明要做什么操作
- 使用模糊词汇如'帮我看看'、'处理一下'
- 请求可能有多种理解方式
- 缺少必要的参数或信息

【清晰】的特征：
- 明确提到要查询、搜索、获取某个具体信息
- 提供了具体的查询关键词或目标
- 意图明确，执行路径清晰

请直接输出'模糊'或'清晰'，不要添加任何解释。

Output your response in the following format:

RESULT: (one of: 模糊, 清晰)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:40.674+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion enhanced_user_input completed with result: 请提供具体的用户输入内容，以便进行改写和优化。
2026-01-18T00:21:41.174+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion is_fuzzy completed with result: 模糊
2026-01-18T00:21:41.193+08:00  INFO --- [action-thread-5] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: react_experience_retrieval
2026-01-18T00:21:41.193+08:00 DEBUG --- [action-thread-5] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: react_experience_retrieval
2026-01-18T00:21:41.193+08:00  INFO --- [action-thread-6] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_llm_verify
2026-01-18T00:21:41.193+08:00 DEBUG --- [action-thread-6] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_llm_verify
2026-01-18T00:21:41.194+08:00 DEBUG --- [action-thread-6] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion action_intent_llm_verify with LLM, prompt: 你是一个意图识别和参数提取专家。请根据用户输入和候选动作列表：
1. 判断用户最可能想要执行的动作
2. 从用户输入中提取动作所需的参数
3. 检查是否有缺失的必填参数

## 用户输入


## 候选动作列表（包含参数定义）
NO_MATCH

## 处理要求
1. 仔细分析用户输入的语义和意图
2. 选择最匹配的动作，如果没有合适的动作则返回 NO_MATCH
3. 如果选中了动作，从用户输入中提取该动作需要的参数值
4. 检查必填参数（required=true）是否都已提取到，如果有缺失则生成追问问题

## 返回格式（严格 JSON）
如果匹配到动作：
RESULT: {
    "actionId": "选中的动作ID",
    "actionName": "动作名称",
    "confidence": 0.95,
    "reason": "判断理由",
    "extractedParams": {"参数名": "提取到的值", ...},
    "missingParams": ["缺失的必填参数名", ...],
    "nextQuestion": "如果有缺失参数，生成追问问题，否则为null"
}

如果未匹配到动作：
RESULT: {"actionId": "NO_MATCH", "confidence": 0.95, "reason": "判断理由"}

2026-01-18T00:21:41.206+08:00 DEBUG --- [action-thread-5] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:21:41.216+08:00 DEBUG --- [action-thread-5] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:21:41.216+08:00  INFO --- [action-thread-5] .e.e.ExperienceRetrievalEvaluatorFactory : ExperienceRetrievalEvaluatorFactory#react_experience_evaluator - reason=未检索到经验
2026-01-18T00:21:41.216+08:00  INFO --- [action-thread-5] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion react_experience_retrieval completed with result: 
2026-01-18T00:21:43.990+08:00  WARN --- [action-thread-6] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Failed to parse JSON from response: 看起来您的请求中缺少了具体的用户输入文本以及候选动作列表的具体内容。为了能够准确地分析用户的意图、匹配最可能的动作并提取相关参数，我需要这些详细信息。请提供具体的用户输入示例及候选动作列表（包括每个动作的ID、名称、所需参数及其是否为必填项等细节）。这样，我才能够按照您的要求完成任务。
2026-01-18T00:21:43.990+08:00  INFO --- [action-thread-6] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_llm_verify completed with result: 看起来您的请求中缺少了具体的用户输入文本以及候选动作列表的具体内容。为了能够准确地分析用户的意图、匹配最可能的动作并提取相关参数，我需要这些详细信息。请提供具体的用户输入示例及候选动作列表（包括每个动作的ID、名称、所需参数及其是否为必填项等细节）。这样，我才能够按照您的要求完成任务。
2026-01-18T00:21:44.021+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'enhanced_user_input': status=SUCCESS, value=请提供具体的用户输入内容，以便进行改写和优化。
2026-01-18T00:21:44.021+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'is_fuzzy': status=SUCCESS, value=模糊
2026-01-18T00:21:44.021+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'react_experience_retrieval': status=SUCCESS, value=
2026-01-18T00:21:44.021+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_match': status=SUCCESS, value=NO_MATCH
2026-01-18T00:21:44.021+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_llm_verify': status=SUCCESS, value=看起来您的请求中缺少了具体的用户输入文本以及候选动作列表的具体内容。为了能够准确地分析用户的意图、匹配最可能的动作并提取相关参数，我需要这些详细信息。请提供具体的用户输入示例及候选动作列表（包括每个动作的ID、名称、所需参数及其是否为必填项等细节）。这样，我才能够按照您的要求完成任务。
2026-01-18T00:21:44.021+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected 5 criterion results from final state
2026-01-18T00:21:44.021+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Evaluation completed for suite: React Phase Evaluation Suite
2026-01-18T00:21:44.021+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=评估完成, phase=REACT
2026-01-18T00:21:44.021+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachInputRoutingResult - reason=写入输入路由评估结果
2026-01-18T00:21:44.022+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=开始处理评估结果注入
2026-01-18T00:21:44.022+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=已解析历史评估结果, 历史条目数=4
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_match, metadata=[]
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=action_intent_match
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=react_experience_retrieval, metadata=[is_empty]
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过空结果的criterion, criterion=react_experience_retrieval
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=enhanced_user_input, metadata=[]
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=enhanced_user_input
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=is_fuzzy, metadata=[]
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=is_fuzzy
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_llm_verify, metadata=[]
2026-01-18T00:21:44.022+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=action_intent_llm_verify
2026-01-18T00:21:44.022+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=没有新的评估内容需要注入
2026-01-18T00:21:44.022+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachResult - reason=评估结果已写入, path=evaluation.inputRouting, suiteId=react-phase-suite
2026-01-18T00:21:44.032+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=开始处理评估结果prompt注入, phase=REACT
2026-01-18T00:21:44.032+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#findLatestEvaluationResult - reason=找到评估结果, index=4
2026-01-18T00:21:44.032+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=找到评估结果XML, phase=REACT, xmlLength=1043
2026-01-18T00:21:44.033+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=enhanced_user_input, valueLength=22
2026-01-18T00:21:44.033+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_match, valueLength=425
2026-01-18T00:21:44.033+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=is_fuzzy, valueLength=2
2026-01-18T00:21:44.033+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_llm_verify, valueLength=246
2026-01-18T00:21:44.033+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=解析评估结果, phase=REACT, results={action_intent_match={"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"个","candidateCount":1,"status":"CANDIDATES"}, enhanced_user_input=请提供具体的用户输入内容，以便进行优化改写。, is_fuzzy=模糊, action_intent_llm_verify=```json
{
    "actionId": "erp:product-unit:create",
    "actionName": "添加产品单位",
    "confidence": 0.95,
    "reason": "用户输入'个'可能是指想要创建一个名为'个'的产品计量单位。",
    "extractedParams": {"name": "个"},
    "missingParams": [],
    "nextQuestion": null
}
```}
2026-01-18T00:21:44.033+08:00  INFO --- [pool-3-thread-1] a.a.s.c.ReactPhasePromptGuidanceProvider : ReactPhasePromptGuidanceProvider#generateGuidance - reason=生成React阶段指导, is_fuzzy=模糊
2026-01-18T00:21:44.033+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#generatePromptGuidance - reason=Provider生成了指导, provider=ReactPhasePromptGuidanceProvider, guidanceLength=189
2026-01-18T00:21:44.033+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#injectPromptGuidanceToMessages - reason=已创建prompt指导消息对
2026-01-18T00:21:44.033+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=已注入评估结果prompt指导, phase=REACT, guidanceLength=189
2026-01-18T00:21:44.045+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 拦截器被调用
2026-01-18T00:21:44.045+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 追加拦截器提示词到原有系统提示词
2026-01-18T00:21:44.045+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 系统提示词已增强，继续调用链
2026-01-18T00:21:46.235+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#apply 执行代码请求: functionName=create_product_unit, args={unit_name=个}
2026-01-18T00:21:46.236+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#apply 找到函数定义: functionName=create_product_unit, signature=null, parameters=[unit_name]
2026-01-18T00:21:46.236+08:00  INFO --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#execute 执行函数: functionName=create_product_unit, args={unit_name=个}
2026-01-18T00:21:46.237+08:00  INFO --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#extractFunctionName 开始提取函数名
2026-01-18T00:21:46.237+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#extractFunctionName 代码内容:
def create_product_unit(unit_name):
    """
    创建一个新的产品计量单位

    Args:
        unit_name (str): 新产品的计量单位名称

    Returns:
        Any: 操作结果
    """
    # 假设这里有一个创建计量单位的工具或API
    # 例如，可以使用一个假想的ProductUnitManager类来创建新的计量单位
    # 这里只是一个示例，实际实现可能需要根据具体情况进行调整

    class ProductUnitManager:
        def create_unit(self, name):
            # 实际应用中，这里可能会调用数据库或其他服务来创建新的计量单位
            # 这里只是简单地返回一个成功消息
            return f"成功创建计量单位: {name}"

    # 创建ProductUnitManager实例
    product_unit_manager = ProductUnitManager()

    # 调用create_unit方法创建新的计量单位
    result = product_unit_manager.create_unit(unit_name)

    # 返回操作结果
    return result
2026-01-18T00:21:46.237+08:00  INFO --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#extractFunctionName 提取到函数名: create_product_unit
2026-01-18T00:21:46.237+08:00  INFO --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#execute 注册的函数名=create_product_unit, 实际函数名=create_product_unit
2026-01-18T00:21:46.237+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#generateImports 生成Python导入语句
2026-01-18T00:21:46.238+08:00  INFO --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#generateFunctionCall 生成函数调用: functionName=create_product_unit, args={unit_name=个}
2026-01-18T00:21:46.238+08:00  INFO --- [oundedElastic-1] c.a.a.a.c.e.p.PythonEnvironmentManager   : PythonEnvironmentManager#generateFunctionCall 生成的函数调用: create_product_unit(unit_name='个')
2026-01-18T00:21:46.238+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#execute 函数接受参数，生成带参数的调用: create_product_unit(unit_name='个')
2026-01-18T00:21:46.238+08:00  INFO --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#execute 准备执行的完整代码:
import json
import math
import sys
from typing import Any, List, Dict, Optional
import os
import re


def create_product_unit(unit_name):
    """
    创建一个新的产品计量单位

    Args:
        unit_name (str): 新产品的计量单位名称

    Returns:
        Any: 操作结果
    """
    # 假设这里有一个创建计量单位的工具或API
    # 例如，可以使用一个假想的ProductUnitManager类来创建新的计量单位
    # 这里只是一个示例，实际实现可能需要根据具体情况进行调整

    class ProductUnitManager:
        def create_unit(self, name):
            # 实际应用中，这里可能会调用数据库或其他服务来创建新的计量单位
            # 这里只是简单地返回一个成功消息
            return f"成功创建计量单位: {name}"

    # 创建ProductUnitManager实例
    product_unit_manager = ProductUnitManager()

    # 调用create_unit方法创建新的计量单位
    result = product_unit_manager.create_unit(unit_name)

    # 返回操作结果
    return result

# Execute function
_result = create_product_unit(unit_name='个')
_result  # Return the result

2026-01-18T00:21:46.238+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#execute 代码长度: 832 字符
2026-01-18T00:21:46.238+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#executeWithGraal 创建GraalVM Context
2026-01-18T00:21:51.524+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#executeWithGraal - reason=Bridge对象注入完成
2026-01-18T00:21:51.528+08:00  INFO --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#injectCodeactTools - reason=开始注入CodeactTool到Python环境
2026-01-18T00:21:51.528+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.core.tool.ToolRegistryBridge     : ToolRegistryBridge#<init> - reason=Bridge对象创建完成
2026-01-18T00:21:51.528+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#injectCodeactTools - reason=ToolRegistryBridge注入完成, bridgeClass=ToolRegistryBridge
2026-01-18T00:21:51.528+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#injectCodeactTools - reason=生成Python工具代码, length=7044
2026-01-18T00:21:52.954+08:00  INFO --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#injectCodeactTools - reason=CodeactTool注入完成, classCount=3, globalToolCount=0
2026-01-18T00:21:52.958+08:00  WARN --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#executeWithGraal Python错误输出:
[To redirect Truffle log output to a file use one of the following options:
* '--log.file=<path>' if the option is passed using a guest language launcher.
* '-Dpolyglot.log.file=<path>' if the option is passed using the host Java launcher.
* Configure logging using the polyglot embedding API.]
[engine] WARNING: The polyglot engine uses a fallback runtime that does not support runtime compilation to native code.
Execution without runtime compilation will negatively impact the guest application performance.
The following cause was found: JVMCI is not enabled for this JVM. Enable JVMCI using -XX:+EnableJVMCI.
For more information see: https://www.graalvm.org/latest/reference-manual/embed-languages/#runtime-optimization-support.
To disable this warning use the '--engine.WarnInterpreterOnly=false' option or the '-Dpolyglot.engine.WarnInterpreterOnly=false' system property.

2026-01-18T00:21:52.960+08:00  INFO --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#executeWithGraal result string: '成功创建计量单位: 个'
2026-01-18T00:21:52.986+08:00  INFO --- [oundedElastic-1] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#execute 执行成功: result=成功创建计量单位: 个
2026-01-18T00:21:52.987+08:00 DEBUG --- [oundedElastic-1] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#updateState 执行历史已更新: count=1
2026-01-18T00:21:52.987+08:00  INFO --- [oundedElastic-1] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#apply 代码执行成功: functionName=create_product_unit, result=成功创建计量单位: 个
2026-01-18T00:21:53.010+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=开始模型输入评估, phase=REACT
2026-01-18T00:21:53.011+08:00 DEBUG --- [oundedElastic-1] .a.e.e.c.CodeactEvaluationContextFactory : CodeactEvaluationContextFactory#createInputRoutingContext - reason=开始构造输入路由评估上下文
2026-01-18T00:21:53.011+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Starting evaluation for suite: React Phase Evaluation Suite
2026-01-18T00:21:53.032+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_match
2026-01-18T00:21:53.032+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: enhanced_user_input
2026-01-18T00:21:53.032+08:00 DEBUG --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_match
2026-01-18T00:21:53.032+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: is_fuzzy
2026-01-18T00:21:53.032+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: enhanced_user_input
2026-01-18T00:21:53.032+08:00  INFO --- [pool-2-thread-2] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_match completed with result: NO_MATCH
2026-01-18T00:21:53.032+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: is_fuzzy
2026-01-18T00:21:53.033+08:00 DEBUG --- [pool-2-thread-3] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion enhanced_user_input with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 改写用户输入，使其更加清晰、完整

Working Mechanism:
你是一个用户输入优化专家。请根据用户输入，改写并完善需求。改写要求：1. 补全隐含的约束条件2. 明确输入输出格式3. 保持原始意图不变4. 直接输出改写后的内容，不要添加任何解释

Output your response in the following format:

RESULT: (your evaluation result)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:53.033+08:00 DEBUG --- [pool-2-thread-1] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion is_fuzzy with LLM, prompt: You are an evaluator performing the following evaluation task:

Evaluation Criterion Description: 判断用户输入是否模糊，是否需要向用户澄清

Working Mechanism:
你是一个用户意图清晰度判断专家。请判断用户输入是否明确。

【模糊】的特征：
- 没有具体指明要做什么操作
- 使用模糊词汇如'帮我看看'、'处理一下'
- 请求可能有多种理解方式
- 缺少必要的参数或信息

【清晰】的特征：
- 明确提到要查询、搜索、获取某个具体信息
- 提供了具体的查询关键词或目标
- 意图明确，执行路径清晰

请直接输出'模糊'或'清晰'，不要添加任何解释。

Output your response in the following format:

RESULT: (one of: 模糊, 清晰)
(No reasoning required for this evaluation)

Context:
- userInput: null

Your evaluation result:

2026-01-18T00:21:53.704+08:00  INFO --- [pool-2-thread-3] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion enhanced_user_input completed with result: 请提供具体的用户输入内容，以便进行改写和优化。
2026-01-18T00:21:54.181+08:00  INFO --- [pool-2-thread-1] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion is_fuzzy completed with result: 模糊
2026-01-18T00:21:54.210+08:00  INFO --- [action-thread-8] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: action_intent_llm_verify
2026-01-18T00:21:54.210+08:00  INFO --- [action-thread-7] c.a.a.a.e.e.CriterionEvaluationAction    : Executing criterion: react_experience_retrieval
2026-01-18T00:21:54.211+08:00 DEBUG --- [action-thread-8] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: action_intent_llm_verify
2026-01-18T00:21:54.211+08:00 DEBUG --- [action-thread-7] c.a.a.a.e.e.CriterionEvaluationAction    : Batching not enabled for criterion: react_experience_retrieval
2026-01-18T00:21:54.211+08:00 DEBUG --- [action-thread-8] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Evaluating criterion action_intent_llm_verify with LLM, prompt: 你是一个意图识别和参数提取专家。请根据用户输入和候选动作列表：
1. 判断用户最可能想要执行的动作
2. 从用户输入中提取动作所需的参数
3. 检查是否有缺失的必填参数

## 用户输入


## 候选动作列表（包含参数定义）
NO_MATCH

## 处理要求
1. 仔细分析用户输入的语义和意图
2. 选择最匹配的动作，如果没有合适的动作则返回 NO_MATCH
3. 如果选中了动作，从用户输入中提取该动作需要的参数值
4. 检查必填参数（required=true）是否都已提取到，如果有缺失则生成追问问题

## 返回格式（严格 JSON）
如果匹配到动作：
RESULT: {
    "actionId": "选中的动作ID",
    "actionName": "动作名称",
    "confidence": 0.95,
    "reason": "判断理由",
    "extractedParams": {"参数名": "提取到的值", ...},
    "missingParams": ["缺失的必填参数名", ...],
    "nextQuestion": "如果有缺失参数，生成追问问题，否则为null"
}

如果未匹配到动作：
RESULT: {"actionId": "NO_MATCH", "confidence": 0.95, "reason": "判断理由"}

2026-01-18T00:21:54.223+08:00 DEBUG --- [action-thread-7] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:21:54.231+08:00 DEBUG --- [action-thread-7] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:21:54.231+08:00  INFO --- [action-thread-7] .e.e.ExperienceRetrievalEvaluatorFactory : ExperienceRetrievalEvaluatorFactory#react_experience_evaluator - reason=未检索到经验
2026-01-18T00:21:54.231+08:00  INFO --- [action-thread-7] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion react_experience_retrieval completed with result: 
2026-01-18T00:21:55.781+08:00  WARN --- [action-thread-8] c.a.a.a.e.evaluator.LLMBasedEvaluator    : Failed to parse JSON from response: 请提供用户的输入内容以及候选动作列表的具体信息（包括每个动作的ID、名称及参数定义）。这样我才能根据您的要求进行准确的分析与处理。
2026-01-18T00:21:55.782+08:00  INFO --- [action-thread-8] c.a.a.a.e.e.CriterionEvaluationAction    : Criterion action_intent_llm_verify completed with result: 请提供用户的输入内容以及候选动作列表的具体信息（包括每个动作的ID、名称及参数定义）。这样我才能根据您的要求进行准确的分析与处理。
2026-01-18T00:21:55.815+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'enhanced_user_input': status=SUCCESS, value=请提供具体的用户输入内容，以便进行改写和优化。
2026-01-18T00:21:55.815+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'is_fuzzy': status=SUCCESS, value=模糊
2026-01-18T00:21:55.815+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'react_experience_retrieval': status=SUCCESS, value=
2026-01-18T00:21:55.815+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_match': status=SUCCESS, value=NO_MATCH
2026-01-18T00:21:55.815+08:00 DEBUG --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected result for criterion 'action_intent_llm_verify': status=SUCCESS, value=请提供用户的输入内容以及候选动作列表的具体信息（包括每个动作的ID、名称及参数定义）。这样我才能根据您的要求进行准确的分析与处理。
2026-01-18T00:21:55.815+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Collected 5 criterion results from final state
2026-01-18T00:21:55.815+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.DefaultEvaluationService       : Evaluation completed for suite: React Phase Evaluation Suite
2026-01-18T00:21:55.815+08:00  INFO --- [pool-3-thread-1] c.a.a.a.e.e.h.ModelInputEvaluationHook   : ModelInputEvaluationHook#beforeModel - reason=评估完成, phase=REACT
2026-01-18T00:21:55.815+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachInputRoutingResult - reason=写入输入路由评估结果
2026-01-18T00:21:55.815+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=开始处理评估结果注入
2026-01-18T00:21:55.817+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=已解析历史评估结果, 历史条目数=4
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_match, metadata=[]
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=action_intent_match
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=react_experience_retrieval, metadata=[is_empty]
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过空结果的criterion, criterion=react_experience_retrieval
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=enhanced_user_input, metadata=[]
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=enhanced_user_input
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=is_fuzzy, metadata=[]
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=is_fuzzy
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=检查criterion metadata, criterion=action_intent_llm_verify, metadata=[]
2026-01-18T00:21:55.817+08:00 DEBUG --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=跳过已存在的无ref-id criterion, criterion=action_intent_llm_verify
2026-01-18T00:21:55.817+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#appendEvaluationResultToMessages - reason=没有新的评估内容需要注入
2026-01-18T00:21:55.817+08:00  INFO --- [pool-3-thread-1] .a.e.e.c.CodeactEvaluationResultAttacher : CodeactEvaluationResultAttacher#attachResult - reason=评估结果已写入, path=evaluation.inputRouting, suiteId=react-phase-suite
2026-01-18T00:21:55.833+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=开始处理评估结果prompt注入, phase=REACT
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#findLatestEvaluationResult - reason=找到评估结果, index=4
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=找到评估结果XML, phase=REACT, xmlLength=1043
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=enhanced_user_input, valueLength=22
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_match, valueLength=425
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=is_fuzzy, valueLength=2
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#parseEvaluationXml - reason=解析到criterion, name=action_intent_llm_verify, valueLength=246
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=解析评估结果, phase=REACT, results={action_intent_match={"candidates":[{"matchType":"SEMANTIC","confidence":0.57,"actionId":"erp:product-unit:create","description":"在ERP系统中创建新的产品计量单位，如：个、台、箱、件等","parameters":[{"name":"name","description":"计量单位名称","label":"单位名称","type":"STRING","required":true},{"defaultValue":"0","name":"status","description":"单位状态","label":"单位状态","type":"ENUM","required":false}],"actionName":"添加产品单位"}],"userInput":"个","candidateCount":1,"status":"CANDIDATES"}, enhanced_user_input=请提供具体的用户输入内容，以便进行优化改写。, is_fuzzy=模糊, action_intent_llm_verify=```json
{
    "actionId": "erp:product-unit:create",
    "actionName": "添加产品单位",
    "confidence": 0.95,
    "reason": "用户输入'个'可能是指想要创建一个名为'个'的产品计量单位。",
    "extractedParams": {"name": "个"},
    "missingParams": [],
    "nextQuestion": null
}
```}
2026-01-18T00:21:55.833+08:00  INFO --- [pool-3-thread-1] a.a.s.c.ReactPhasePromptGuidanceProvider : ReactPhasePromptGuidanceProvider#generateGuidance - reason=生成React阶段指导, is_fuzzy=模糊
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#generatePromptGuidance - reason=Provider生成了指导, provider=ReactPhasePromptGuidanceProvider, guidanceLength=189
2026-01-18T00:21:55.833+08:00 DEBUG --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#injectPromptGuidanceToMessages - reason=已创建prompt指导消息对
2026-01-18T00:21:55.833+08:00  INFO --- [pool-3-thread-1] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#beforeModel - reason=已注入评估结果prompt指导, phase=REACT, guidanceLength=189
2026-01-18T00:21:55.854+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 拦截器被调用
2026-01-18T00:21:55.854+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 追加拦截器提示词到原有系统提示词
2026-01-18T00:21:55.854+08:00  INFO --- [pool-3-thread-1] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#interceptModel 系统提示词已增强，继续调用链
2026-01-18T00:21:56.755+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=agent execution completed, starting learning process
2026-01-18T00:21:56.755+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=executing learning asynchronously, taskId=cc0366c9-c011-47e2-8913-e07021a7b7d7
2026-01-18T00:21:56.755+08:00  INFO --- [oundedElastic-1] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#executeAsync - reason=start async execute learning task, taskId=cc0366c9-c011-47e2-8913-e07021a7b7d7, learningType=experience
2026-01-18T00:21:56.755+08:00  INFO --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=start execute learning task, taskId=cc0366c9-c011-47e2-8913-e07021a7b7d7, learningType=experience
2026-01-18T00:21:56.755+08:00 DEBUG --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningStrategy    : DefaultLearningStrategy#selectExtractor - reason=extractor found, learningType=experience, extractorClass=ExperienceLearningExtractor
2026-01-18T00:21:57.092+08:00  INFO --- [earning-async-0] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#llmJudgeWorthLearning - reason=llm answered, answer=NO
2026-01-18T00:21:57.092+08:00  INFO --- [earning-async-0] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#shouldLearn - reason=llm judgment completed, worthLearning=false, result=false
2026-01-18T00:21:57.092+08:00  INFO --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=extractor decided not to learn, taskId=cc0366c9-c011-47e2-8913-e07021a7b7d7, learningType=experience
2026-01-18T00:28:01.958+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 15180 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:28:01.961+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:28:01.961+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:28:03.288+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:28:03.314+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:28:03.319+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:28:03.328+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:28:04.562+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:28:04.581+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:28:04.581+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:28:04.675+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:28:04.675+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2660 ms
2026-01-18T00:28:04.741+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:28:04.756+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:28:04.756+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:28:04.762+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:28:04.808+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:28:04.808+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:28:04.813+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:28:05.097+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:28:05.102+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:28:05.561+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:28:05.630+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:28:05.646+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:28:05.654+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:28:05.658+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:28:05.659+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:28:05.659+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:28:05.664+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:28:05.667+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:28:05.674+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:28:05.674+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:28:05.674+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:28:05.674+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:28:05.674+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:28:05.674+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:28:05.674+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:28:05.674+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:28:05.679+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:28:05.679+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:28:05.679+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:28:05.755+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:28:05.755+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:28:05.758+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:28:05.761+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:28:05.767+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:28:05.767+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:28:05.784+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:28:05.789+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:28:05.789+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:28:05.789+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:28:05.789+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:28:05.794+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:28:05.800+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:28:05.800+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:28:05.800+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:28:05.800+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:28:05.805+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:28:05.805+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:28:05.805+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:28:05.805+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:28:05.805+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:28:05.805+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:28:05.805+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:28:05.811+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:28:05.817+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:28:05.822+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:28:05.822+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:28:05.827+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:28:05.827+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:28:05.827+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:28:05.827+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:28:05.827+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:28:05.832+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:28:05.833+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:28:05.834+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:28:05.834+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:28:05.834+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:28:05.834+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:28:05.834+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:28:05.839+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:28:05.839+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:28:05.878+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:28:05.878+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:28:05.878+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:28:05.878+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:28:05.878+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:28:05.883+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:28:05.883+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:28:05.883+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:28:05.883+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:28:05.883+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:28:05.884+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:28:05.885+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:28:05.887+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:28:05.888+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:28:05.892+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:28:05.893+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:28:05.893+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:28:05.895+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:28:05.895+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:28:05.895+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:28:05.896+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:28:05.898+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, chatModelPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:28:06.004+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:28:06.220+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23909b3
2026-01-18T00:28:06.221+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:28:06.373+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:28:06.373+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:28:06.377+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:28:06.379+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:28:06.380+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:28:06.388+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:28:06.391+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:28:06.391+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:28:06.392+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:28:06.393+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:28:06.393+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:28:06.393+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:28:06.393+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:28:06.393+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:28:06.395+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:28:06.407+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:28:06.408+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:28:06.410+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:28:06.411+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:28:06.413+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:28:06.414+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:28:06.414+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:28:06.415+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:28:06.415+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:28:06.415+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:28:06.415+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:28:06.415+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:28:06.427+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:28:06.431+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:28:06.436+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:28:06.436+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:28:06.436+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:28:06.436+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:28:06.440+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:28:06.441+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:28:06.443+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:28:06.443+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:28:06.444+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:28:06.444+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:28:06.444+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:28:06.444+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:28:06.446+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:28:06.449+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:28:06.450+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:28:06.453+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1734881808
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:28:06.454+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:28:06.454+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:28:06.455+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:28:06.456+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:28:06.457+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:28:06.458+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:28:06.460+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:28:06.460+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:28:06.463+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:28:06.463+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:28:06.463+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:28:06.607+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:28:06.608+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:28:06.611+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:28:06.611+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:28:06.620+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:28:06.621+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:28:06.622+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:28:06.623+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:28:06.626+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:28:06.640+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
@enduml

2026-01-18T00:28:06.641+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:28:06.649+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:28:06.649+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:28:06.659+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:28:06.661+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:28:06.662+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:28:06.663+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:28:06.664+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:28:06.665+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:28:06.667+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:28:06.669+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:28:06.670+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:28:06.673+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:28:06.673+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:28:06.673+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:28:06.673+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:28:06.673+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:28:06.673+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:28:06.677+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:28:06.677+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:28:06.679+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:28:06.680+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:28:06.680+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:28:06.680+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:28:06.680+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:28:06.680+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:28:06.680+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:28:06.916+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:28:06.918+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1093793499
2026-01-18T00:28:07.312+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:28:07.312+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:28:07.348+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-18T00:28:07.359+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Started AssistantAgentApplication in 6.145 seconds (process running for 6.699)
2026-01-18T00:28:07.368+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Initializing Demo Experiences
2026-01-18T00:28:07.368+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Demo Experiences initialization completed
2026-01-18T00:28:07.368+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Starting experience module validation
2026-01-18T00:28:07.430+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#count - reason=count completed, count=0
2026-01-18T00:28:07.451+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=CODE, scope=null, count=0
2026-01-18T00:28:07.456+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=REACT, scope=null, count=0
2026-01-18T00:28:07.466+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=COMMON, scope=null, count=0
2026-01-18T00:28:07.466+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testExperienceCount - reason=Experience stats: total=0, code=0, react=0, common=0
2026-01-18T00:28:07.466+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Testing common experience query
2026-01-18T00:28:07.690+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:28:07.690+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Found 0 common experiences
2026-01-18T00:28:07.690+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=❌ MoLiHong identity experience not found
2026-01-18T00:28:07.690+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Testing code experience query (demo keyword)
2026-01-18T00:28:07.705+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=CODE, text=null, count=0
2026-01-18T00:28:07.705+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Found 0 demo code experiences
2026-01-18T00:28:07.705+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=❌ Demo code experience not found
2026-01-18T00:28:07.706+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Testing react experience query
2026-01-18T00:28:07.720+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:28:07.720+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Found 0 react experiences
2026-01-18T00:28:07.720+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=❌ Ambiguous intent strategy not found
2026-01-18T00:28:07.720+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Experience module validation completed
2026-01-18T00:29:55.906+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 19972 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:29:55.907+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:29:55.908+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:29:57.133+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:29:57.165+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:29:57.168+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:29:57.173+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:29:58.254+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:29:58.274+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:29:58.274+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:29:58.368+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:29:58.369+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2411 ms
2026-01-18T00:29:58.433+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:29:58.450+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:29:58.450+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:29:58.455+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:29:58.505+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:29:58.506+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:29:58.508+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:29:58.787+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:29:58.787+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:29:59.254+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:29:59.316+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:29:59.333+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:29:59.334+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:29:59.338+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:29:59.338+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:29:59.338+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:29:59.344+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:29:59.344+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:29:59.350+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:29:59.350+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:29:59.355+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:29:59.355+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:29:59.355+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:29:59.355+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:29:59.355+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:29:59.355+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:29:59.355+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:29:59.355+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:29:59.355+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:29:59.426+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:29:59.426+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:29:59.428+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:29:59.433+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:29:59.433+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:29:59.438+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:29:59.448+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:29:59.453+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:29:59.453+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:29:59.453+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:29:59.453+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:29:59.463+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:29:59.468+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:29:59.470+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:29:59.470+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:29:59.470+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:29:59.473+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:29:59.473+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:29:59.473+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:29:59.473+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:29:59.473+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:29:59.473+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:29:59.479+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:29:59.479+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:29:59.489+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:29:59.494+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:29:59.499+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:29:59.500+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:29:59.500+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:29:59.500+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:29:59.500+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:29:59.505+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:29:59.505+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:29:59.505+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:29:59.505+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:29:59.505+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:29:59.505+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:29:59.510+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:29:59.510+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:29:59.510+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:29:59.510+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:29:59.546+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:29:59.547+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:29:59.547+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:29:59.548+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:29:59.548+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:29:59.548+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:29:59.549+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:29:59.549+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:29:59.549+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:29:59.549+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:29:59.549+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:29:59.549+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:29:59.549+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:29:59.549+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:29:59.554+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:29:59.554+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:29:59.554+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:29:59.554+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:29:59.554+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:29:59.554+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:29:59.560+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:29:59.560+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, chatModelPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:29:59.655+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:29:59.860+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23909b3
2026-01-18T00:29:59.860+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:30:00.027+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:30:00.028+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:30:00.035+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:30:00.038+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:30:00.038+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:30:00.049+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:30:00.052+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:30:00.052+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:30:00.052+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:30:00.052+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:30:00.052+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:30:00.052+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:30:00.052+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:30:00.052+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:30:00.057+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:30:00.078+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:30:00.080+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:30:00.082+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:30:00.084+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:30:00.086+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:30:00.088+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:30:00.090+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:30:00.092+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:30:00.092+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:30:00.092+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:30:00.092+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:30:00.092+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:30:00.109+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:30:00.111+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:30:00.118+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:30:00.118+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:30:00.118+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:30:00.118+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:30:00.123+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:30:00.123+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:30:00.128+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:30:00.128+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:30:00.128+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:30:00.128+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:30:00.128+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:30:00.128+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:30:00.133+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:30:00.139+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:30:00.142+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:30:00.146+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1734881808
2026-01-18T00:30:00.149+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:30:00.149+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:30:00.149+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:30:00.149+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:30:00.149+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:30:00.149+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:30:00.149+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:30:00.149+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:30:00.149+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:30:00.150+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:30:00.150+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:30:00.151+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:30:00.154+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:30:00.154+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:30:00.154+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:30:00.154+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:30:00.161+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:30:00.161+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:30:00.161+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:30:00.352+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:30:00.353+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:30:00.357+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:30:00.357+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:30:00.372+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:30:00.374+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:30:00.376+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:30:00.377+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:30:00.379+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:30:00.394+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
@enduml

2026-01-18T00:30:00.396+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:30:00.407+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:30:00.407+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:30:00.424+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:30:00.424+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:30:00.424+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:30:00.429+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:30:00.432+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:30:00.434+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:30:00.434+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:30:00.438+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:30:00.438+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:30:00.438+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:30:00.438+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:30:00.438+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:30:00.438+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:30:00.438+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:30:00.438+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:30:00.449+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:30:00.449+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:30:00.452+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:30:00.452+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:30:00.453+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:30:00.453+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:30:00.453+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:30:00.454+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:30:00.454+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:30:00.749+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:30:00.749+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1093793499
2026-01-18T00:30:01.159+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:30:01.159+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:30:01.173+08:00  WARN --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2026-01-18T00:30:01.178+08:00  INFO --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Shutting down ExecutorService
2026-01-18T00:30:01.178+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#shutdown - reason=shutting down async learning handler
2026-01-18T00:30:01.183+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-18T00:30:01.194+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-18T00:30:01.211+08:00  INFO --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-18T00:30:01.233+08:00 ERROR --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2026-01-18T00:30:01.238+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : Shutting down ParallelNode default executor
2026-01-18T00:30:01.238+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default thread pool terminated
2026-01-18T00:30:01.238+08:00  INFO --- [r-shutdown-hook] c.a.c.a.g.internal.node.ParallelNode     : ParallelNode default executor shut down successfully
2026-01-18T00:31:18.690+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Starting AssistantAgentApplication using Java 21.0.9 with PID 13772 (D:\devfive\AssistantAgent\assistant-agent-start\target\classes started by zhou_ in D:\devfive\AssistantAgent\assistant-agent-start)
2026-01-18T00:31:18.691+08:00 DEBUG --- [           main] c.a.a.a.start.AssistantAgentApplication  : Running with Spring Boot v3.4.8, Spring v6.2.9
2026-01-18T00:31:18.692+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : No active profile set, falling back to 1 default profile: "default"
2026-01-18T00:31:20.249+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:31:20.284+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Elasticsearch repository interfaces.
2026-01-18T00:31:20.289+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Reactive Elasticsearch repositories in DEFAULT mode.
2026-01-18T00:31:20.293+08:00  INFO --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Reactive Elasticsearch repository interfaces.
2026-01-18T00:31:21.637+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2026-01-18T00:31:21.662+08:00  INFO --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-18T00:31:21.663+08:00  INFO --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2026-01-18T00:31:21.777+08:00  INFO --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2026-01-18T00:31:21.777+08:00  INFO --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3036 ms
2026-01-18T00:31:21.845+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#constructor - reason=learning extension auto-configuration initialized
2026-01-18T00:31:21.866+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#init - reason=search extension framework is enabled
2026-01-18T00:31:21.868+08:00  INFO --- [           main] c.a.a.a.s.s.MockBaiduWebSearchProvider   : MockBaiduWebSearchProvider#init - reason=使用简单模式初始化
2026-01-18T00:31:21.870+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#unifiedSearchCodeactTool - reason=创建统一搜索工具, providerCount=3
2026-01-18T00:31:21.920+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#init - reason=planning extension is enabled
2026-01-18T00:31:21.926+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#init - reason=ES configuration class loaded (elasticsearch.enabled=true)
2026-01-18T00:31:21.928+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#init - reason=MySQL configuration class loaded (mysql.enabled=true, MyBatisPlus present)
2026-01-18T00:31:22.266+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#actionEntityConverter - reason=creating entity converter
2026-01-18T00:31:22.267+08:00  INFO --- [           main] toConfiguration$MybatisPlusConfiguration : MybatisPlusConfiguration#mybatisPlusActionRepository - reason=ActionRegistryMapper found, creating MySQL repository
2026-01-18T00:31:22.846+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#actionVectorizationService - reason=creating ES vectorization service
2026-01-18T00:31:22.926+08:00  INFO --- [           main] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#init - reason=ES index initialized on startup
2026-01-18T00:31:22.940+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#semanticActionProvider - reason=creating semantic action provider, semanticWeight=0.6, keywordWeight=0.4, matchThreshold=0.5
2026-01-18T00:31:22.945+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanGenerator - reason=creating default plan generator
2026-01-18T00:31:22.949+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planActionCodeactTool - reason=creating plan_action tool
2026-01-18T00:31:22.951+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#queryStepExecutor - reason=creating query step executor
2026-01-18T00:31:22.954+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#inputStepExecutor - reason=creating input step executor
2026-01-18T00:31:22.955+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeStepExecutor - reason=creating execute step executor
2026-01-18T00:31:22.957+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#apiCallStepExecutor - reason=creating api call step executor
2026-01-18T00:31:22.965+08:00 DEBUG --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#validationStepExecutor - reason=creating validation step executor
2026-01-18T00:31:22.967+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#stepExecutorRegistry - reason=creating executor registry, executorCount=5
2026-01-18T00:31:22.968+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=QUERY, executorClass=QueryStepExecutor
2026-01-18T00:31:22.968+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=INPUT, executorClass=InputStepExecutor
2026-01-18T00:31:22.969+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=EXECUTE, executorClass=ExecuteStepExecutor
2026-01-18T00:31:22.969+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=API_CALL, executorClass=ApiCallStepExecutor
2026-01-18T00:31:22.969+08:00  INFO --- [           main] c.a.a.a.p.internal.StepExecutorRegistry  : StepExecutorRegistry#register - reason=registered executor, type=VALIDATION, executorClass=ValidationStepExecutor
2026-01-18T00:31:22.970+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#defaultPlanExecutor - reason=creating default plan executor
2026-01-18T00:31:22.971+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#executeActionCodeactTool - reason=creating execute_action tool
2026-01-18T00:31:22.972+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#listActionsCodeactTool - reason=creating list_actions tool
2026-01-18T00:31:22.973+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#getActionDetailsCodeactTool - reason=creating get_action_details tool
2026-01-18T00:31:23.056+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningExtractor - reason=creating LLM-based experience learning extractor
2026-01-18T00:31:23.057+08:00  INFO --- [           main] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#constructor - reason=LLM-based extractor initialized
2026-01-18T00:31:23.060+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#inMemoryLearningRepository - reason=creating in-memory learning repository
2026-01-18T00:31:23.065+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#init - reason=persistence configuration loaded
2026-01-18T00:31:23.070+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceRepository - reason=creating Elasticsearch experience repository (PRIMARY), indexName=experiences
2026-01-18T00:31:23.073+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#experienceLearningRepository - reason=creating experience learning repository
2026-01-18T00:31:23.084+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningStrategy - reason=creating learning strategy, asyncEnabled=true
2026-01-18T00:31:23.086+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#asyncLearningHandler - reason=creating async learning handler, threadPoolSize=2, queueCapacity=100
2026-01-18T00:31:23.087+08:00  INFO --- [           main] c.a.a.a.e.l.i.AsyncLearningHandler       : AsyncLearningHandler#constructor - reason=async learning handler initialized, threadPoolSize=2, queueCapacity=100
2026-01-18T00:31:23.088+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#learningExecutor - reason=creating learning executor, extractorCount=1, repositoryCount=2
2026-01-18T00:31:23.090+08:00  INFO --- [           main] e.l.c.LearningExtensionAutoConfiguration : LearningExtensionAutoConfiguration#afterAgentLearningHook - reason=creating after agent learning hook, learningType=experience
2026-01-18T00:31:23.094+08:00  INFO --- [           main] c.a.a.a.start.config.PersistenceConfig   : PersistenceConfig#elasticsearchExperienceProvider - reason=creating Elasticsearch experience provider (PRIMARY), indexName=experiences
2026-01-18T00:31:23.098+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#<init> - reason=初始化默认评估套件配置, experienceProviderAvailable=true
2026-01-18T00:31:23.100+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluatorRegistry - reason=创建 EvaluatorRegistry Bean
2026-01-18T00:31:23.102+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'llm-based' of type LLMBasedEvaluator
2026-01-18T00:31:23.103+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'passthrough' of type RuleBasedEvaluator
2026-01-18T00:31:23.112+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'react_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:31:23.112+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 React 阶段经验检索评估器
2026-01-18T00:31:23.113+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'codeact_experience_evaluator' of type RuleBasedEvaluator
2026-01-18T00:31:23.113+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createDefaultEvaluatorRegistry - reason=注册 CodeAct 阶段经验检索评估器
2026-01-18T00:31:23.114+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=创建默认 EvaluationService, sharedRegistryEvaluators=[llm-based, passthrough, codeact_experience_evaluator, react_experience_evaluator]
2026-01-18T00:31:23.116+08:00 DEBUG --- [           main] c.a.a.a.e.e.GraphBasedEvaluationExecutor : Created default ExecutorService for batch processing
2026-01-18T00:31:23.117+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#<init> - reason=初始化经验评估 Criterion 提供者
2026-01-18T00:31:23.120+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#structuredParamExtractor - reason=creating structured param extractor
2026-01-18T00:31:23.132+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#parameterValidator - reason=creating parameter validator
2026-01-18T00:31:23.135+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#restTemplate - reason=creating RestTemplate bean
2026-01-18T00:31:23.139+08:00  INFO --- [           main] c.a.a.a.planning.executor.HttpExecutor   : HttpExecutor#init - initialized
2026-01-18T00:31:23.140+08:00  INFO --- [           main] c.a.a.a.p.executor.InternalExecutor      : InternalExecutor#init - initialized
2026-01-18T00:31:23.142+08:00  INFO --- [           main] c.a.a.a.p.e.ActionExecutorFactory        : ActionExecutorFactory#init - initialized executors: INTERNAL(InternalExecutor), HTTP(HttpExecutor), DATA_AGENT(DataAgentExecutor), MCP(McpExecutor)
2026-01-18T00:31:23.143+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#sessionProvider - reason=creating in-memory session provider
2026-01-18T00:31:23.144+08:00  INFO --- [           main] c.a.a.a.p.s.InMemorySessionProvider      : InMemorySessionProvider#init - initialized
2026-01-18T00:31:23.146+08:00  INFO --- [           main] c.a.a.a.p.s.ParamCollectionService       : ParamCollectionService#init - sessionProvider=InMemory
2026-01-18T00:31:23.147+08:00 DEBUG --- [           main] c.a.a.a.e.evaluator.EvaluatorRegistry    : Registered evaluator 'action_intent_evaluator' of type ActionIntentEvaluator
2026-01-18T00:31:23.148+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#actionIntentEvaluator - initialized and registered, paramCollection=true, llmVerification=true, maxCandidates=5
2026-01-18T00:31:23.148+08:00  INFO --- [           main] .p.i.PlanningEvaluationCriterionProvider : PlanningEvaluationCriterionProvider#init - initialized, llmVerificationEnabled=true
2026-01-18T00:31:23.148+08:00  INFO --- [           main] p.i.PlanningIntegrationAutoConfiguration : PlanningIntegrationAutoConfiguration#planningEvaluationCriterionProvider - registered planning evaluation criterion provider
2026-01-18T00:31:23.149+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getReactPhaseCriteria - reason=提供 React 阶段评估 Criteria
2026-01-18T00:31:23.151+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:31:23.152+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createReactPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:31:23.154+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:31:23.155+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:31:23.194+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated core pool size: 32 (CPU cores: 16)
2026-01-18T00:31:23.194+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated maximum pool size: 64 (CPU cores: 16)
2026-01-18T00:31:23.194+08:00  INFO --- [           main] c.a.c.a.g.internal.node.ParallelNode     : Calculated queue capacity: 1000
2026-01-18T00:31:23.195+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: react-phase-suite
2026-01-18T00:31:23.195+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 React Phase Suite, suiteId=react-phase-suite
2026-01-18T00:31:23.196+08:00  INFO --- [           main] .c.ExperienceEvaluationCriterionProvider : ExperienceEvaluationCriterionProvider#getCodeActPhaseCriteria - reason=提供 CodeAct 阶段评估 Criteria
2026-01-18T00:31:23.196+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=ExperienceEvaluationCriterionProvider, count=3
2026-01-18T00:31:23.196+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#createCodeActPhaseSuite - reason=添加自定义 Criterion, provider=PlanningEvaluationCriterionProvider, count=2
2026-01-18T00:31:23.197+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ANY_TRUE
2026-01-18T00:31:23.197+08:00  INFO --- [           main] a.a.e.a.BatchAggregationStrategyRegistry : Registered batch aggregation strategy: ALL_TRUE
2026-01-18T00:31:23.198+08:00  INFO --- [           main] c.a.a.a.e.DefaultEvaluationService       : Registered evaluation suite: codeact-phase-suite
2026-01-18T00:31:23.198+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#evaluationService - reason=注册 CodeAct Phase Suite, suiteId=codeact-phase-suite
2026-01-18T00:31:23.201+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationContextFactory - reason=创建 EvaluationContextFactory
2026-01-18T00:31:23.202+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactEvaluationResultAttacher - reason=创建 EvaluationResultAttacher
2026-01-18T00:31:23.204+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase ModelInputEvaluationHook
2026-01-18T00:31:23.206+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=REACT, providerCount=1
2026-01-18T00:31:23.206+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#reactPhaseEvaluationHooks - reason=创建 React Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:31:23.208+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase ModelInputEvaluationHook
2026-01-18T00:31:23.208+08:00  INFO --- [           main] .a.a.e.e.p.EvaluationPromptInjectionHook : EvaluationPromptInjectionHook#<init> - reason=初始化, phase=CODEACT, providerCount=1
2026-01-18T00:31:23.208+08:00  INFO --- [           main] c.a.a.a.a.e.DefaultEvaluationSuiteConfig : DefaultEvaluationSuiteConfig#codeactPhaseEvaluationHooks - reason=创建 CodeAct Phase EvaluationPromptInjectionHook, providersCount=2
2026-01-18T00:31:23.209+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#keywordMatcher - reason=creating keyword matcher
2026-01-18T00:31:23.212+08:00  INFO --- [           main] iguration$UnifiedIntentHookConfiguration : UnifiedIntentHookConfiguration#unifiedIntentRecognitionHook - reason=creating unified intent hook, experienceProviderPresent=true, chatModelPresent=true, directExecuteThreshold=0.95, hintThreshold=0.5
2026-01-18T00:31:23.333+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-18T00:31:23.555+08:00  INFO --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@670aac24
2026-01-18T00:31:23.562+08:00  INFO --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-18T00:31:23.747+08:00 DEBUG --- [           main] c.a.a.a.planning.intent.KeywordMatcher   : KeywordMatcher#registerAction - actionId=erp:product-unit:create, keywords=18
2026-01-18T00:31:23.747+08:00  INFO --- [           main] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#initKeywordMatcher - reason=initialized, actionCount=1, keywordIndexSize=18
2026-01-18T00:31:23.751+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#init - reason=reply module enabled
2026-01-18T00:31:23.753+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactToolFactory - reason=创建CodeactTool工厂, channels=1
2026-01-18T00:31:23.753+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#init - reason=工厂初始化完成, channels=1
2026-01-18T00:31:23.759+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=开始创建Reply工具
2026-01-18T00:31:23.764+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_success_message, channelCode=IDE_TEXT
2026-01-18T00:31:23.764+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_error_message, channelCode=IDE_TEXT
2026-01-18T00:31:23.764+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=创建工具成功, toolName=send_notification, channelCode=IDE_TEXT
2026-01-18T00:31:23.764+08:00  INFO --- [           main] c.a.a.a.e.r.t.ReplyCodeactToolFactory    : ReplyCodeactToolFactory#createTools - reason=工具创建完成, totalCount=3
2026-01-18T00:31:23.764+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=Reply工具创建完成, count=3
2026-01-18T00:31:23.764+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=1, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:31:23.764+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=2, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:31:23.764+08:00  INFO --- [           main] .a.e.r.c.ReplyExtensionAutoConfiguration : ReplyExtensionAutoConfiguration#replyCodeactTools - reason=创建Reply工具, index=3, name=send_notification, description=Send a notification message
2026-01-18T00:31:23.764+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactToolFactory - reason=创建SearchCodeactTool工厂, providerCount=3
2026-01-18T00:31:23.788+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactToolFactory - reason=创建TriggerCodeactTool工厂
2026-01-18T00:31:23.788+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=开始创建Trigger工具
2026-01-18T00:31:23.788+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建SubscribeTriggerCodeactTool成功
2026-01-18T00:31:23.788+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建UnsubscribeTriggerCodeactTool成功
2026-01-18T00:31:23.794+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建ListTriggersCodeactTool成功
2026-01-18T00:31:23.796+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=创建GetTriggerDetailCodeactTool成功
2026-01-18T00:31:23.796+08:00  INFO --- [           main] c.a.a.a.e.t.t.TriggerCodeactToolFactory  : TriggerCodeactToolFactory#createTools - reason=触发器工具创建完成, count=4
2026-01-18T00:31:23.796+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=Trigger工具创建完成, count=4
2026-01-18T00:31:23.796+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=1, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:31:23.796+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=2, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:31:23.796+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=3, name=list_triggers, description=列出所有触发器
2026-01-18T00:31:23.796+08:00  INFO --- [           main] c.a.a.a.e.t.c.TriggerAutoConfiguration   : TriggerAutoConfiguration#triggerCodeactTools - reason=创建Trigger工具, index=4, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:31:23.811+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentService - reason=creating FastIntentService, extraMatchers=0
2026-01-18T00:31:23.812+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#fastIntentReactHook - reason=creating fast intent react hook bean
2026-01-18T00:31:23.818+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=创建 CodeactAgent
2026-01-18T00:31:23.818+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=配置 MemorySaver 以支持多轮对话上下文保持
2026-01-18T00:31:23.818+08:00  WARN --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=临时禁用 streaming 模式以排查循环问题
2026-01-18T00:31:23.818+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加UnifiedSearchCodeactTool
2026-01-18T00:31:23.822+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:31:23.826+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:31:23.827+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:31:23.827+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:31:23.827+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加SearchCodeactTools, count=3
2026-01-18T00:31:23.827+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加ReplyCodeactTools, count=3
2026-01-18T00:31:23.827+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=添加TriggerCodeactTools, count=4
2026-01-18T00:31:23.827+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=Creating MCP dynamic tools
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=开始创建MCP动态工具
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.e.d.mcp.McpDynamicToolFactory    : McpDynamicToolFactory#createTools - reason=无可用的MCP工具
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createMcpDynamicTools - reason=MCP dynamic tools created, count=0
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=Added MCP dynamic tools, count=0
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#createHttpDynamicTools - reason=HTTP dynamic tools disabled by default
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=合并后CodeactTool总数, count=11
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=React阶段使用内置工具(write_code, execute_code, write_condition_code)
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 React Phase 评估 Hooks, count=2
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=注入 CodeAct Phase 评估 Hooks, count=2
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入AfterAgentLearningHook
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入FastIntentReactHook
2026-01-18T00:31:23.833+08:00  INFO --- [           main] c.a.a.a.start.config.CodeactAgentConfig  : CodeactAgentConfig#grayscaleCodeactAgent - reason=已准备注入UnifiedIntentRecognitionHook
2026-01-18T00:31:23.838+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 开始构建CodeactAgent
2026-01-18T00:31:23.838+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1482861352
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#<init> - reason=创建注册表, returnSchemaRegistry=DefaultReturnSchemaRegistry
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=创建默认CodeactToolRegistry
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=开始注册CodeactTool, count=11
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unified_search
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unified_search
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_web
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_web
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_knowledge
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_knowledge
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=search_project
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=search_project
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_success_message
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_success_message
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_error_message
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_error_message
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=send_notification
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=send_notification
2026-01-18T00:31:23.843+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=subscribe_trigger
2026-01-18T00:31:23.843+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=subscribe_trigger
2026-01-18T00:31:23.844+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=unsubscribe_trigger
2026-01-18T00:31:23.844+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=unsubscribe_trigger
2026-01-18T00:31:23.844+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=list_triggers
2026-01-18T00:31:23.844+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=list_triggers
2026-01-18T00:31:23.844+08:00  INFO --- [           main] c.a.a.a.c.t.DefaultCodeactToolRegistry   : DefaultCodeactToolRegistry#register - reason=工具注册成功, name=get_trigger_detail
2026-01-18T00:31:23.844+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册成功, name=get_trigger_detail
2026-01-18T00:31:23.844+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build - reason=CodeactTool注册完成, count=11
2026-01-18T00:31:23.844+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认CodeContext: language=PYTHON
2026-01-18T00:31:23.845+08:00 DEBUG --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 创建默认RuntimeEnvironmentManager: language=PYTHON
2026-01-18T00:31:23.847+08:00 DEBUG --- [           main] c.a.a.a.c.e.bridge.AgentToolBridge       : AgentToolBridge#<init> 初始化: 注册了0个工具
2026-01-18T00:31:23.848+08:00 DEBUG --- [           main] c.a.a.a.c.executor.bridge.StateBridge    : StateBridge#<init> 初始化完成
2026-01-18T00:31:23.849+08:00  INFO --- [           main] c.a.a.a.core.executor.GraalCodeExecutor  : GraalCodeExecutor#<init> 初始化完成: language=PYTHON, allowIO=false, timeout=30000ms, executableTools=true, customBridgeFactory=false
2026-01-18T00:31:23.849+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#createCodeactSubAgentInterceptor 创建子Agent拦截器
2026-01-18T00:31:23.853+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=code-generator
2026-01-18T00:31:23.853+08:00  INFO --- [           main] c.a.a.a.a.subagent.CodeactSubAgent       : CodeactSubAgent#<init> 初始化: name=condition-code-generator
2026-01-18T00:31:23.853+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 创建默认代码生成子Agent
2026-01-18T00:31:24.015+08:00  INFO --- [           main] c.a.a.a.a.s.CodeactSubAgentInterceptor   : CodeactSubAgentInterceptor#<init> 初始化完成: subAgentCount=2
2026-01-18T00:31:24.016+08:00  INFO --- [           main] c.a.a.a.a.tools.ExecuteCodeTool          : ExecuteCodeTool#<init> 初始化完成
2026-01-18T00:31:24.020+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 拦截器分类完成: modelInterceptors=1, toolInterceptors=0
2026-01-18T00:31:24.021+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 从拦截器提取工具: interceptor=CodeactSubAgent, toolCount=2
2026-01-18T00:31:24.031+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 工具收集完成: interceptorTools=2, regularTools=3, total=6
2026-01-18T00:31:24.031+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build 设置ModelInterceptors到LlmNode: count=1
2026-01-18T00:31:24.031+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#build CodeactAgent构建完成
2026-01-18T00:31:24.031+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=开始罗列已注册的工具
2026-01-18T00:31:24.036+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct阶段工具数量, count=11
2026-01-18T00:31:24.036+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=1, name=unified_search, description=统一搜索工具，可同时搜索项目、知识库、Web等多个数据源
2026-01-18T00:31:24.036+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:31:24.036+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=4, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=5, name=unsubscribe_trigger, description=取消订阅并删除一个触发器
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=6, name=get_trigger_detail, description=获取指定触发器的详细信息
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=7, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=8, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=9, name=send_notification, description=Send a notification message
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=10, name=subscribe_trigger, description=创建并订阅一个新的触发器
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=CodeAct工具详情, index=11, name=list_triggers, description=列出所有触发器
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React阶段工具数量, count=6
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=1, name=write_code, description=Generate and register a new function with specified name and parameters. IMPORTANT: You MUST provide both 'functionName' and 'parameters' fields. Example: write_code(requirement='calculate sum', functionName='calculate_sum', parameters=['a', 'b'])
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=2, name=write_condition_code, description=Generate and register a condition check function for triggers. This function MUST return a boolean value (True/False). Example: write_condition_code(requirement='check if it is a working day', functionName='check_is_working_day', parameters=['date'])
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=3, name=send_success_message, description=Send a success message to the IDE console
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=4, name=send_error_message, description=Send an error message to the IDE console
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=5, name=send_notification, description=Send a notification message
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=React工具详情, index=6, name=execute_code, description=Execute a previously generated function by its exact name with matching parameters. CRITICAL: The functionName MUST exactly match the name used in write_code. The 'args' parameter names MUST exactly match the 'parameters' specified in write_code. Example: If you called write_code with functionName='calculate_sum' and parameters=['a', 'b'], then you must call execute_code with functionName='calculate_sum' and args={'a': 10, 'b': 20}. Parameter value types supported: String, Number, Boolean, List, Map/Object.
2026-01-18T00:31:24.037+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgentBuilder#logRegisteredTools - reason=工具罗列完成
2026-01-18T00:31:24.038+08:00  INFO --- [           main] c.a.a.agent.autoconfigure.CodeactAgent   : CodeactAgent#<init> 初始化完成: language=PYTHON
2026-01-18T00:31:24.040+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 初始化 Agent 加载器
2026-01-18T00:31:24.054+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> Agent 图结构:
@startuml CodeactAgent
skinparam usecaseFontSize 14
skinparam usecaseStereotypeFontSize 12
skinparam hexagonFontSize 14
skinparam hexagonStereotypeFontSize 12
title "CodeactAgent"
footer

powered by spring-ai-alibaba
end footer
circle start<<input>> as __START__
circle stop as __END__
usecase "_AGENT_MODEL_"<<Node>>
usecase "_AGENT_TOOL_"<<Node>>
usecase "_AGENT_HOOK_FastIntentReactHook.before"<<Node>>
usecase "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"<<Node>>
usecase "_AGENT_HOOK_AfterAgentLearningHook.after"<<Node>>
usecase "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"<<Node>>
usecase "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"<<Node>>
hexagon "check state" as condition1<<Condition>>
hexagon "check state" as condition2<<Condition>>
hexagon "check state" as condition3<<Condition>>
hexagon "check state" as condition4<<Condition>>
"__START__" -down-> "_AGENT_HOOK_FastIntentReactHook.before"
"_AGENT_HOOK_FastIntentReactHook.before" .down.> "condition1"
"condition1" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_TOOL_"
"condition1" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
'"_AGENT_HOOK_FastIntentReactHook.before" .down.> "_AGENT_HOOK_UnifiedIntentRecognitionHook.before"
"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "condition2"
"condition2" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"condition2" .down.> "_AGENT_TOOL_"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_TOOL_"
"condition2" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_HOOK_UnifiedIntentRecognitionHook.before" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel" -down-> "_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel"
"_AGENT_HOOK_EvaluationPromptInjectionHook-REACT.beforeModel" -down-> "_AGENT_MODEL_"
"_AGENT_HOOK_AfterAgentLearningHook.after" -down-> "__END__"
"_AGENT_MODEL_" .down.> "condition3"
"condition3" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition3" .down.> "_AGENT_TOOL_"
'"_AGENT_MODEL_" .down.> "_AGENT_TOOL_"
"condition3" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_MODEL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
"_AGENT_TOOL_" .down.> "condition4"
"condition4" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_ModelInputEvaluationHook-REACT.beforeModel"
"condition4" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
'"_AGENT_TOOL_" .down.> "_AGENT_HOOK_AfterAgentLearningHook.after"
@enduml

2026-01-18T00:31:24.054+08:00  INFO --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#<init> 已注册 agent: grayscale_agent
2026-01-18T00:31:24.063+08:00 DEBUG --- [           main] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#listAgents 列出所有 agent
2026-01-18T00:31:24.064+08:00  INFO --- [           main] c.a.c.a.a.s.controller.AgentController   : AgentController initialized with 1 dynamic agents: [grayscale_agent]
2026-01-18T00:31:24.075+08:00  INFO --- [           main] e.e.c.CodeactEvaluationAutoConfiguration : CodeactEvaluationAutoConfiguration#inputRoutingEvaluationHook - reason=创建输入路由评估 Hook
2026-01-18T00:31:24.077+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#codeExperienceModelHook - reason=creating code experience model hook bean
2026-01-18T00:31:24.079+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#reactExperienceAgentHook - reason=creating react experience agent hook bean
2026-01-18T00:31:24.081+08:00  INFO --- [           main] e.c.ExperienceExtensionAutoConfiguration : ExperienceExtensionAutoConfiguration#commonSenseExperienceModelHook - reason=creating common sense prompt model hook bean
2026-01-18T00:31:24.083+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchFacade - reason=creating search facade with 3 providers
2026-01-18T00:31:24.084+08:00  INFO --- [           main] c.a.a.a.e.s.i.DefaultSearchFacade        : DefaultSearchFacade#init - reason=initialized with 3 providers
2026-01-18T00:31:24.085+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=开始创建Search工具
2026-01-18T00:31:24.086+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockBaiduWebSearchProvider, toolName=search_web
2026-01-18T00:31:24.087+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockKnowledgeStoreSearchProvider, toolName=search_knowledge
2026-01-18T00:31:24.089+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=创建搜索工具成功, providerName=MockProjectContextSearchProvider, toolName=search_project
2026-01-18T00:31:24.089+08:00  INFO --- [           main] c.a.a.a.e.s.t.SearchCodeactToolFactory   : SearchCodeactToolFactory#createTools - reason=搜索工具创建完成, totalCount=3
2026-01-18T00:31:24.089+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=Search工具创建完成, count=3
2026-01-18T00:31:24.089+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=1, name=search_web, description=执行Web搜索，获取公开互联网信息
2026-01-18T00:31:24.089+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=2, name=search_knowledge, description=搜索团队知识库，包括FAQ、规范、最佳实践等
2026-01-18T00:31:24.089+08:00  INFO --- [           main] a.e.s.c.SearchExtensionAutoConfiguration : SearchExtensionAutoConfiguration#searchCodeactTools - reason=创建Search工具, index=3, name=search_project, description=搜索项目上下文信息，包括代码、配置、文档等
2026-01-18T00:31:24.094+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=ElasticsearchClient bean found
2026-01-18T00:31:24.094+08:00  INFO --- [           main] Configuration$ElasticsearchConfiguration : ElasticsearchConfiguration#diagnostics - reason=EmbeddingModel bean found
2026-01-18T00:31:24.097+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#diagnostics - Planning module status:
2026-01-18T00:31:24.097+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionRepository: MybatisPlusActionRepository
2026-01-18T00:31:24.097+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - ActionProvider: SemanticActionProvider
2026-01-18T00:31:24.097+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanGenerator: DefaultPlanGenerator
2026-01-18T00:31:24.097+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration :   - PlanExecutor: DefaultPlanExecutor
2026-01-18T00:31:24.100+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=creating planning tools list
2026-01-18T00:31:24.100+08:00  INFO --- [           main] a.p.c.PlanningExtensionAutoConfiguration : PlanningExtensionAutoConfiguration#planningCodeactTools - reason=created planning tools, count=4
2026-01-18T00:31:24.358+08:00  INFO --- [           main] c.a.a.a.c.c.CodeactCoreAutoConfiguration : CodeactCoreAutoConfiguration#returnSchemaRegistry - reason=创建ReturnSchemaRegistry单例Bean
2026-01-18T00:31:24.359+08:00  INFO --- [           main] .a.a.a.c.t.s.DefaultReturnSchemaRegistry : DefaultReturnSchemaRegistry#<init> - reason=创建新实例, hashCode=1221330445
2026-01-18T00:31:24.791+08:00  WARN --- [           main] o.s.m.p.s.SyncMcpSamplingProvider        : No sampling methods found
2026-01-18T00:31:24.795+08:00  WARN --- [           main] o.s.m.p.e.SyncMcpElicitationProvider     : No elicitation methods found
2026-01-18T00:31:24.834+08:00  INFO --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2026-01-18T00:31:24.847+08:00  INFO --- [           main] c.a.a.a.start.AssistantAgentApplication  : Started AssistantAgentApplication in 6.907 seconds (process running for 7.498)
2026-01-18T00:31:24.852+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Initializing Demo Experiences
2026-01-18T00:31:24.852+08:00  INFO --- [           main] c.a.a.a.s.config.DemoExperienceConfig    : DemoExperienceConfig#run - reason=Demo Experiences initialization completed
2026-01-18T00:31:24.852+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Starting experience module validation
2026-01-18T00:31:24.906+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#count - reason=count completed, count=0
2026-01-18T00:31:24.923+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=CODE, scope=null, count=0
2026-01-18T00:31:24.931+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=REACT, scope=null, count=0
2026-01-18T00:31:24.941+08:00 DEBUG --- [           main] .p.e.r.ElasticsearchExperienceRepository : ElasticsearchExperienceRepository#countByTypeAndScope - reason=count completed, type=COMMON, scope=null, count=0
2026-01-18T00:31:24.941+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testExperienceCount - reason=Experience stats: total=0, code=0, react=0, common=0
2026-01-18T00:31:24.941+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Testing common experience query
2026-01-18T00:31:25.098+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=COMMON, text=null, count=0
2026-01-18T00:31:25.098+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=Found 0 common experiences
2026-01-18T00:31:25.098+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCommonExperienceQuery - reason=❌ MoLiHong identity experience not found
2026-01-18T00:31:25.098+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Testing code experience query (demo keyword)
2026-01-18T00:31:25.110+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=CODE, text=null, count=0
2026-01-18T00:31:25.110+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=Found 0 demo code experiences
2026-01-18T00:31:25.110+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testCodeExperienceQuery - reason=❌ Demo code experience not found
2026-01-18T00:31:25.110+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Testing react experience query
2026-01-18T00:31:25.119+08:00 DEBUG --- [           main] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:31:25.120+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=Found 0 react experiences
2026-01-18T00:31:25.120+08:00  WARN --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#testReactExperienceQuery - reason=❌ Ambiguous intent strategy not found
2026-01-18T00:31:25.120+08:00  INFO --- [           main] c.a.a.a.s.v.ExperienceTestValidator      : ExperienceTestValidator#run - reason=Experience module validation completed
2026-01-18T00:32:42.437+08:00  INFO --- [nio-8080-exec-2] o.apache.tomcat.util.http.parser.Cookie  : A cookie header was received [Hm_lvt_b79d8f49e2d38b26503b92810b740f45=1767609436,1767669208,1767767035] that contained an invalid cookie. That cookie will be ignored.
 Note: further occurrences of this error will be logged at DEBUG level.
2026-01-18T00:32:42.444+08:00  INFO --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-18T00:32:42.444+08:00  INFO --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-18T00:32:42.444+08:00  INFO --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2026-01-18T00:32:52.946+08:00  INFO --- [nio-8080-exec-3] c.a.c.a.a.s.controller.ThreadController  : Request received for POST /apps/research_agent/users/user-001/threads (service generates ID) with state: {}
2026-01-18T00:32:52.951+08:00  INFO --- [nio-8080-exec-3] c.a.c.a.a.s.service.ThreadServiceImpl    : Created thread: e700aefe-7716-4652-a947-be3aae5809fd for app=research_agent, user=user-001
2026-01-18T00:32:52.951+08:00  INFO --- [nio-8080-exec-3] c.a.c.a.a.s.controller.ThreadController  : Thread created successfully with generated id: e700aefe-7716-4652-a947-be3aae5809fd
2026-01-18T00:32:52.995+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 加载 agent: research_agent
2026-01-18T00:32:52.995+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 成功加载 agent: research_agent
2026-01-18T00:32:53.000+08:00  INFO --- [nio-8080-exec-5] c.a.c.a.a.s.controller.ThreadController  : Request received for GET /apps/research_agent/users/user-001/threads/e700aefe-7716-4652-a947-be3aae5809fd
2026-01-18T00:32:53.056+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=try react fast-intent match
2026-01-18T00:32:53.056+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=fast-intent disabled
2026-01-18T00:32:53.065+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=checking unified intent
2026-01-18T00:32:53.065+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching actions, userInput=添加单位
2026-01-18T00:32:53.882+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.p.v.ActionVectorizationService   : ActionVectorizationService#hybridSearch - actionId=erp:product-unit:create, rawScore=3.4759183, maxScore=3.4759183, normalizedScore=0.95
2026-01-18T00:32:53.899+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.p.i.SemanticActionProvider       : SemanticActionProvider#matchActions - reason=matching completed, userInput=添加单位, matchCount=1
2026-01-18T00:32:53.899+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=match found, actionId=erp:product-unit:create, confidence=0.95, matchType=KEYWORD_EXACT
2026-01-18T00:32:53.912+08:00 DEBUG --- [nio-8080-exec-4] .s.p.e.p.ElasticsearchExperienceProvider : ElasticsearchExperienceProvider#query - reason=query completed, type=REACT, text=null, count=0
2026-01-18T00:32:53.912+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=high confidence, using LLM for param extraction, actionId=erp:product-unit:create, confidence=0.95
2026-01-18T00:32:53.913+08:00 DEBUG --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleLlmParamExtraction - reason=calling LLM, actionId=erp:product-unit:create
2026-01-18T00:32:56.333+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleLlmParamExtraction - reason=LLM response received, actionId=erp:product-unit:create, response=```json
{
  "extractedParams": {},
  "missingParams": ["name"],
  "nextQuestion": "请提供计量单位的名称。"
}
```
2026-01-18T00:32:56.400+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleLlmParamExtraction - reason=has nextQuestion, returning to user, question=请提供计量单位的名称。
2026-01-18T00:32:56.400+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleNextQuestion - reason=returning nextQuestion, actionId=erp:product-unit:create, question=请提供计量单位的名称。
2026-01-18T00:32:56.416+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=agent execution completed, starting learning process
2026-01-18T00:32:56.423+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=executing learning asynchronously, taskId=696fb610-2d01-48c9-96d9-6ccd31efc364
2026-01-18T00:32:56.423+08:00  INFO --- [nio-8080-exec-4] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#executeAsync - reason=start async execute learning task, taskId=696fb610-2d01-48c9-96d9-6ccd31efc364, learningType=experience
2026-01-18T00:32:56.423+08:00  INFO --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=start execute learning task, taskId=696fb610-2d01-48c9-96d9-6ccd31efc364, learningType=experience
2026-01-18T00:32:56.423+08:00 DEBUG --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningStrategy    : DefaultLearningStrategy#selectExtractor - reason=extractor found, learningType=experience, extractorClass=ExperienceLearningExtractor
2026-01-18T00:32:56.841+08:00  INFO --- [earning-async-0] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#llmJudgeWorthLearning - reason=llm answered, answer=NO
2026-01-18T00:32:56.841+08:00  INFO --- [earning-async-0] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#shouldLearn - reason=llm judgment completed, worthLearning=false, result=false
2026-01-18T00:32:56.841+08:00  INFO --- [earning-async-0] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=extractor decided not to learn, taskId=696fb610-2d01-48c9-96d9-6ccd31efc364, learningType=experience
2026-01-18T00:33:11.346+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 加载 agent: research_agent
2026-01-18T00:33:11.346+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.autoconfigure.AgentStaticLoader  : AgentStaticLoader#loadAgent 成功加载 agent: research_agent
2026-01-18T00:33:11.355+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=try react fast-intent match
2026-01-18T00:33:11.355+08:00 DEBUG --- [nio-8080-exec-6] c.a.a.a.e.e.hook.FastIntentReactHook     : FastIntentReactHook#beforeAgent - reason=fast-intent disabled
2026-01-18T00:33:11.362+08:00 DEBUG --- [nio-8080-exec-6] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=checking unified intent
2026-01-18T00:33:11.362+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#beforeAgent - reason=continuing param collection session, userInput=个
2026-01-18T00:33:11.362+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleParamCollectionContinuation - reason=processing param input, actionId=erp:product-unit:create, userInput=个
2026-01-18T00:33:12.333+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleParamCollectionContinuation - reason=LLM response, response=```json
{
  "extractedParams": {"name": "个"},
  "missingParams": [],
  "nextQuestion": null
}
```
2026-01-18T00:33:12.334+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handleParamCollectionContinuation - reason=params complete, executing action, actionId=erp:product-unit:create, params={name=个}
2026-01-18T00:33:12.334+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handlePlanningDirectExecution - reason=direct execution, actionId=erp:product-unit:create
2026-01-18T00:33:12.334+08:00 DEBUG --- [nio-8080-exec-6] c.a.a.a.p.internal.DefaultPlanGenerator  : DefaultPlanGenerator#generate - reason=generating plan, actionId=erp:product-unit:create, actionName=添加产品单位
2026-01-18T00:33:12.339+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.internal.DefaultPlanGenerator  : DefaultPlanGenerator#generate - reason=plan generated, planId=21a620fd-8665-4bf2-9883-397b7827b522, stepCount=1
2026-01-18T00:33:12.339+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.internal.DefaultPlanExecutor   : DefaultPlanExecutor#execute - reason=starting plan execution, planId=21a620fd-8665-4bf2-9883-397b7827b522, actionId=erp:product-unit:create
2026-01-18T00:33:12.339+08:00 DEBUG --- [nio-8080-exec-6] c.a.a.a.p.internal.DefaultPlanExecutor   : DefaultPlanExecutor#executeSteps - reason=executing step, planId=21a620fd-8665-4bf2-9883-397b7827b522, stepId=execute, stepIndex=0
2026-01-18T00:33:12.339+08:00 DEBUG --- [nio-8080-exec-6] c.a.a.a.p.i.e.ApiCallStepExecutor        : AbstractStepExecutor#execute - reason=executing step, stepId=execute, type=API_CALL
2026-01-18T00:33:12.339+08:00 DEBUG --- [nio-8080-exec-6] c.a.a.a.p.i.e.ApiCallStepExecutor        : ApiCallStepExecutor#doExecute - reason=executing API call step, stepId=execute
2026-01-18T00:33:12.340+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.i.e.ApiCallStepExecutor        : ApiCallStepExecutor#doExecute - reason=calling API, url=https://api.simplify.devefive.com/admin-api/erp/product-unit/create, method=POST
2026-01-18T00:33:12.731+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.internal.DefaultPlanExecutor   : DefaultPlanExecutor#execute - reason=plan completed, planId=21a620fd-8665-4bf2-9883-397b7827b522, stepCount=1
2026-01-18T00:33:12.732+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.p.i.UnifiedIntentRecognitionHook : UnifiedIntentRecognitionHook#handlePlanningDirectExecution - reason=execution completed, planId=21a620fd-8665-4bf2-9883-397b7827b522, success=true
2026-01-18T00:33:12.738+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=agent execution completed, starting learning process
2026-01-18T00:33:12.738+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.e.l.hook.AfterAgentLearningHook  : AfterAgentLearningHook#afterAgent - reason=executing learning asynchronously, taskId=0b424dc8-27e5-4a22-b7cd-11417db40824
2026-01-18T00:33:12.738+08:00  INFO --- [nio-8080-exec-6] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#executeAsync - reason=start async execute learning task, taskId=0b424dc8-27e5-4a22-b7cd-11417db40824, learningType=experience
2026-01-18T00:33:12.739+08:00  INFO --- [earning-async-1] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=start execute learning task, taskId=0b424dc8-27e5-4a22-b7cd-11417db40824, learningType=experience
2026-01-18T00:33:12.739+08:00 DEBUG --- [earning-async-1] c.a.a.a.e.l.i.DefaultLearningStrategy    : DefaultLearningStrategy#selectExtractor - reason=extractor found, learningType=experience, extractorClass=ExperienceLearningExtractor
2026-01-18T00:33:13.251+08:00  INFO --- [earning-async-1] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#llmJudgeWorthLearning - reason=llm answered, answer=NO
2026-01-18T00:33:13.251+08:00  INFO --- [earning-async-1] .a.a.a.e.l.e.ExperienceLearningExtractor : ExperienceLearningExtractor#shouldLearn - reason=llm judgment completed, worthLearning=false, result=false
2026-01-18T00:33:13.251+08:00  INFO --- [earning-async-1] c.a.a.a.e.l.i.DefaultLearningExecutor    : DefaultLearningExecutor#execute - reason=extractor decided not to learn, taskId=0b424dc8-27e5-4a22-b7cd-11417db40824, learningType=experience
2026-01-18T12:33:09.119+08:00  WARN --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m35s357ms839µs200ns).
2026-01-18T17:56:53.534+08:00  WARN --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=19m40s112ms233µs800ns).
2026-01-18T18:11:32.757+08:00  WARN --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m39s223ms178µs900ns).
2026-01-18T18:59:45.387+08:00  WARN --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=32m12s589ms311µs400ns).
2026-01-18T19:52:36.110+08:00  WARN --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s169ms966µs700ns).
2026-01-18T20:49:01.178+08:00  WARN --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=36m24s958ms810µs).
